<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0f172a">
    <title>K-Bank - Application Bancaire Complète</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #1e3a8a; /* Bleu marine */
            --secondary-color: #c0c0c0; /* Argent */
            --accent-color: #3b82f6; /* Bleu vif */
            --dark-bg: #0f172a; /* Fond sombre */
            --card-bg: rgba(255, 255, 255, 0.1);
            --text-light: #ffffff;
            --text-muted: rgba(255, 255, 255, 0.7);
            --success-color: #10b981;
            --danger-color: #ef4444;
            --warning-color: #f59e0b;
            --professional-color: #06b6d4;
            --silver-gradient: linear-gradient(135deg, #c0c0c0, #e5e7eb);
            --blue-gradient: linear-gradient(135deg, #1e3a8a, #3b82f6);
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, var(--dark-bg), #0f0c29);
            color: var(--text-light);
            min-height: 100vh;
        }

        .app-container {
            max-width: 420px;
            margin: 0 auto;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(10px);
            box-shadow: 0 0 20px rgba(30, 58, 138, 0.3);
            border-radius: 0;
        }

        /* Content wrapper pour gérer l'espacement avec header et nav fixes */
        .content {
            flex: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            margin-top: 80px; /* Hauteur du header */
            margin-bottom: 70px; /* Hauteur de la navigation */
            height: calc(100vh - 150px); /* 80px (header) + 70px (navbar) */
            -ms-overflow-style: none;  /* Pour Internet Explorer et Edge */
            scrollbar-width: none;     /* Pour Firefox */
            padding: 0 5px; /* Espacement latéral optimisé */
        }

        .content::-webkit-scrollbar {
            display: none;             /* Pour Chrome, Safari et Opera */
        }

        /* Responsive pour conteneur principal */
        @media (max-width: 420px) {
            .app-container {
                max-width: 100%;
                border-radius: 0;
                box-shadow: 0 0 15px rgba(30, 58, 138, 0.2);
            }
            
            .content {
                padding: 0 3px;
            }
        }

        @media (min-width: 421px) and (max-width: 768px) {
            .app-container {
                max-width: 500px;
                border-radius: 15px;
                margin: 10px auto;
                box-shadow: 0 0 25px rgba(30, 58, 138, 0.25);
            }
            
            .content {
                padding: 0 8px;
            }
        }

        @media (min-width: 769px) {
            .app-container {
                max-width: 450px;
                border-radius: 20px;
                margin: 20px auto;
                box-shadow: 0 0 30px rgba(30, 58, 138, 0.3);
            }
            
            .content {
                padding: 0 10px;
            }
        }

        /* En-tête */
        .header {
            height: 80px;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 420px;
            z-index: 100;
            background: var(--blue-gradient);
            border-bottom: 1px solid rgba(192, 192, 192, 0.2);
            backdrop-filter: blur(10px);
            box-sizing: border-box;
        }

        .header-title {
            font-size: 20px;
            font-weight: 600;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .header-title i {
            color: var(--secondary-color);
        }

        .header-actions {
            display: flex;
            gap: 15px;
        }

        .header-icon, .notification-bell {
            position: relative;
            font-size: 20px;
            color: var(--text-light);
            cursor: pointer;
            transition: transform 0.2s;
        }

        .header-icon:hover, .notification-bell:hover {
            transform: scale(1.1);
            color: var(--secondary-color);
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--danger-color);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
        }

        /* Navigation responsive */
        .bottom-nav {
            height: 70px;
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 420px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            background: var(--blue-gradient);
            padding: 8px 5px;
            border-top: 1px solid rgba(192, 192, 192, 0.2);
            backdrop-filter: blur(10px);
            z-index: 100;
            box-sizing: border-box;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--text-muted);
            font-size: 11px;
            cursor: pointer;
            transition: all 0.2s;
            padding: 5px 8px;
            border-radius: 10px;
            min-width: 50px;
        }

        .nav-item i {
            font-size: 20px;
            margin-bottom: 3px;
        }

        .nav-item.active {
            color: var(--secondary-color);
            background: rgba(192, 192, 192, 0.1);
        }

        /* Media queries améliorées */
        @media (max-width: 320px) {
            .header {
                padding: 10px;
                height: 70px;
            }
            
            .header-title {
                font-size: 18px;
            }
            
            .content {
                margin-top: 70px;
                margin-bottom: 60px;
                height: calc(100vh - 130px);
            }
            
            .bottom-nav {
                height: 60px;
                padding: 5px;
            }
            
            .nav-item {
                font-size: 10px;
                padding: 3px 5px;
                min-width: 45px;
            }
            
            .nav-item i {
                font-size: 18px;
            }
        }

        @media (min-width: 321px) and (max-width: 380px) {
            .header {
                padding: 12px;
                height: 75px;
            }
            
            .header-title {
                font-size: 19px;
            }
            
            .content {
                margin-top: 75px;
                margin-bottom: 65px;
                height: calc(100vh - 140px);
            }
            
            .bottom-nav {
                height: 65px;
                padding: 6px;
            }
            
            .nav-item {
                font-size: 10px;
                padding: 4px 6px;
                min-width: 48px;
            }
            
            .nav-item i {
                font-size: 19px;
            }
        }

        @media (min-width: 421px) and (max-width: 768px) {
            .header {
                max-width: 500px;
                padding: 20px;
            }
            
            .header-title {
                font-size: 22px;
            }
            
            .bottom-nav {
                max-width: 500px;
                padding: 12px 10px;
            }
            
            .nav-item {
                font-size: 12px;
                padding: 6px 10px;
                min-width: 60px;
            }
        }

        @media (min-width: 769px) {
            .header {
                max-width: 450px;
                padding: 20px 25px;
            }
            
            .header-title {
                font-size: 24px;
            }
            
            .bottom-nav {
                max-width: 450px;
                padding: 15px;
            }
            
            .nav-item {
                font-size: 13px;
                padding: 8px 12px;
                min-width: 65px;
            }
        }

        /* Pages */
        .page {
            display: none;
            padding: 20px 0;
            animation: fadeIn 0.3s ease-out;
        }

        .page.active {
            display: block;
        }

        .page-header {
            padding: 20px;
            display: flex;
            align-items: center;
            position: relative;
            background: rgba(30, 58, 138, 0.1);
            border-bottom: 1px solid rgba(192, 192, 192, 0.1);
        }

        .page-header h2 {
            flex: 1;
            text-align: center;
            font-size: 20px;
            margin: 0;
            color: var(--secondary-color);
        }

        .back-button {
            background: none;
            border: none;
            color: var(--secondary-color);
            font-size: 18px;
            cursor: pointer;
            position: absolute;
            left: 20px;
            transition: transform 0.2s;
        }

        .back-button:hover {
            transform: translateX(-3px);
        }

        /* Navigation */
        .bottom-nav {
            height: 70px;
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 420px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            background: var(--blue-gradient);
            padding: 12px 0;
            border-top: 1px solid rgba(192, 192, 192, 0.2);
            backdrop-filter: blur(10px);
            z-index: 100;
            box-sizing: border-box;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--text-muted);
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
            padding: 5px 10px;
            border-radius: 10px;
        }

        .nav-item i {
            font-size: 20px;
            margin-bottom: 4px;
        }

        .nav-item.active {
            color: var(--secondary-color);
            background: rgba(192, 192, 192, 0.1);
        }

        .nav-item:hover {
            color: var(--secondary-color);
            transform: translateY(-2px);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }

        /* Page d'accueil */
        .welcome-section {
            padding: 20px;
            text-align: center;
            background: var(--blue-gradient);
            border-radius: 0 0 20px 20px;
            margin-bottom: 20px;
        }

        .welcome-text {
            font-size: 18px;
            margin-bottom: 10px;
        }

        .balance-amount {
            font-size: 32px;
            font-weight: 700;
            margin: 10px 0;
        }

        .account-number {
            font-size: 14px;
            opacity: 0.9;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            padding: 0 20px;
            margin-bottom: 25px;
        }

        .quick-action {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px 10px;
            background: var(--card-bg);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid rgba(192, 192, 192, 0.1);
        }

        .quick-action:hover {
            transform: translateY(-3px);
            background: rgba(192, 192, 192, 0.1);
        }

        .quick-action i {
            font-size: 24px;
            margin-bottom: 8px;
            color: var(--secondary-color);
        }

        .quick-action span {
            font-size: 12px;
            text-align: center;
        }

        .transactions-section {
            padding: 0 20px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .transaction-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .transaction-item {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: transform 0.2s;
        }

        .transaction-item:hover {
            transform: translateX(5px);
        }

        .transaction-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .income {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success-color);
        }

        .expense {
            background: rgba(239, 68, 68, 0.2);
            color: var(--danger-color);
        }

        .transaction-info {
            flex: 1;
        }

        .transaction-title {
            font-weight: 600;
            margin-bottom: 3px;
        }

        .transaction-details {
            font-size: 12px;
            opacity: 0.8;
        }

        .transaction-amount {
            font-weight: 600;
        }

        /* Page Compte Professionnel */
        .professional-header {
            background: var(--blue-gradient);
            padding: 20px 15px;
            text-align: center;
            border-radius: 0 0 20px 20px;
            margin: 0 -5px 20px -5px; /* Compensation du padding du content */
        }

        .professional-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.2);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            margin-bottom: 15px;
            color: var(--secondary-color);
        }

        .professional-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .professional-subtitle {
            opacity: 0.9;
            font-size: 14px;
        }

        .professional-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            padding: 0 15px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 15px 10px;
            text-align: center;
            border: 1px solid rgba(192, 192, 192, 0.1);
            transition: transform 0.2s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
        }

        .stat-value {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 5px;
            color: var(--secondary-color);
        }

        .stat-label {
            font-size: 11px;
            opacity: 0.8;
            line-height: 1.2;
        }

        .professional-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            padding: 0 15px;
            margin-bottom: 25px;
        }

        .action-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 18px 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(192, 192, 192, 0.1);
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .action-card:hover {
            transform: translateY(-3px);
            background: rgba(192, 192, 192, 0.1);
            box-shadow: 0 5px 15px rgba(30, 58, 138, 0.1);
        }

        .action-icon {
            font-size: 24px;
            margin-bottom: 8px;
            color: var(--secondary-color);
        }

        .action-title {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 14px;
        }

        .action-description {
            font-size: 11px;
            opacity: 0.8;
            line-height: 1.3;
        }

        /* Responsive pour les actions professionnelles */
        @media (max-width: 380px) {
            .professional-stats {
                gap: 8px;
                padding: 0 10px;
            }
            
            .stat-card {
                padding: 12px 8px;
            }
            
            .stat-value {
                font-size: 16px;
            }
            
            .stat-label {
                font-size: 10px;
            }
            
            .professional-actions {
                gap: 10px;
                padding: 0 10px;
            }
            
            .action-card {
                padding: 15px 10px;
                min-height: 90px;
            }
            
            .action-icon {
                font-size: 22px;
            }
            
            .action-title {
                font-size: 13px;
            }
            
            .action-description {
                font-size: 10px;
            }
        }

        /* Section partenaires */
        .partners-section {
            padding: 0 15px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding: 0 5px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-light);
        }

        .add-button {
            background: var(--secondary-color);
            border: none;
            color: var(--primary-color);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .add-button:hover {
            transform: scale(1.1);
        }

        .partners-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .partner-item {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 12px 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            border: 1px solid rgba(192, 192, 192, 0.1);
            transition: all 0.2s ease;
        }

        .partner-item:hover {
            transform: translateX(3px);
            background: rgba(192, 192, 192, 0.1);
        }

        .partner-logo {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            object-fit: cover;
            background: rgba(255, 255, 255, 0.1);
        }

        .partner-info {
            flex: 1;
        }

        .partner-name {
            font-weight: 600;
            margin-bottom: 2px;
            font-size: 14px;
        }

        .partner-category {
            font-size: 11px;
            opacity: 0.7;
        }

        .partner-status {
            padding: 4px 8px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: 500;
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }

        /* Responsive pour partenaires */
        @media (max-width: 380px) {
            .partners-section {
                padding: 0 10px;
            }
            
            .partner-item {
                padding: 10px 12px;
                gap: 10px;
            }
            
            .partner-logo {
                width: 35px;
                height: 35px;
            }
            
            .partner-name {
                font-size: 13px;
            }
            
            .partner-category {
                font-size: 10px;
            }
            
            .partner-status {
                padding: 3px 6px;
                font-size: 9px;
            }
        }

        .partner-item:hover {
            transform: translateX(5px);
        }

        .partner-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--silver-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: 600;
            color: var(--primary-color);
        }

        .partner-info {
            flex: 1;
        }

        .partner-name {
            font-weight: 600;
            margin-bottom: 3px;
        }

        .partner-details {
            font-size: 12px;
            opacity: 0.8;
        }

        .partner-actions {
            display: flex;
            gap: 10px;
        }

        .partner-action {
            background: rgba(192, 192, 192, 0.2);
            border: none;
            color: var(--text-light);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .partner-action:hover {
            background: var(--secondary-color);
            color: var(--primary-color);
        }

        /* Page Virement */
        .transfer-container {
            padding: 0 20px;
        }

        .transfer-form {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-label {
            display: block;
            margin-bottom: 5px;
            font-size: 14px;
            opacity: 0.9;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid rgba(192, 192, 192, 0.3);
            background: rgba(30, 58, 138, 0.1);
            color: var(--text-light);
            font-size: 16px;
            box-sizing: border-box;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: var(--secondary-color);
        }

        .amount-input {
            position: relative;
        }

        .currency-symbol {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
        }

        .amount-input input {
            padding-left: 30px;
        }

        .transfer-button {
            width: 100%;
            padding: 15px;
            background: var(--silver-gradient);
            color: var(--primary-color);
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            margin-top: 10px;
        }

        .transfer-button:hover {
            transform: translateY(-2px);
        }

        .transfer-button:active {
            transform: translateY(0);
        }

        /* Page Cartes - Design moderne */
        .cards-container {
            padding: 0 15px;
            max-width: 100%;
            overflow-x: hidden;
        }

        /* Nouveau design moderne pour les cartes */
        .modern-card-container {
            width: 100%;
            max-width: 380px;
            height: 240px;
            margin: 0 auto 25px;
            perspective: 1000px;
        }

        .modern-card {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.8s;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            border-radius: 16px;
        }

        .modern-card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 16px;
            color: #ffffff;
            padding: 25px;
            box-sizing: border-box;
            
            /* ARRIÈRE-PLAN: UTILISATION DE L'IMAGE mont_blanSc.jpg */
            background-image: url('./assets/mont_blanSc.jpg');
            background-size: cover;
            background-position: center 21%;
            background-repeat: no-repeat;
            
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modern-card-face::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.3);
            z-index: 1;
        }

        .modern-card-face > * {
            position: relative;
            z-index: 2;
        }

        .modern-card-front {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .logo-puce {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .bank-logo {
            font-size: 24px;
            font-weight: 700;
            font-style: italic;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            letter-spacing: 1px;
        }

        .modern-card-number {
            font-size: 24px;
            letter-spacing: 4px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
            font-family: 'Courier New', monospace;
            margin: 20px 0;
            font-weight: 600;
        }

        .card-bottom-info {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }

        .card-holder-info, .card-expiry-info, .card-cvc-info {
            display: inline-block;
            text-transform: uppercase;
        }

        .card-holder-name, .card-expiry-date, .card-cvc {
            font-size: 16px;
            font-weight: 600;
            margin-top: 4px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        .label {
            opacity: 0.8;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 4px;
        }

        .bank-name-left {
            position: absolute;
            top: 35px;
            left: 65px;
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 1px;
            opacity: 0.8;
            z-index: 3;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        .chip-image {
            width: 40px;
            height: 30px;
            display: block;
        }

        /* États de la carte */
        .modern-card.blocked {
            opacity: 0.6;
            transition: all 0.3s ease;
        }

        .modern-card.blocked::after {
            content: 'BLOQUÉE';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(220, 38, 38, 0.9);
            color: white;
            padding: 8px 20px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 14px;
            letter-spacing: 2px;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(220, 38, 38, 0.4);
        }

        .modern-card.frozen {
            opacity: 0.7;
            transition: all 0.3s ease;
        }

        .modern-card.frozen::after {
            content: 'GELÉE';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(59, 130, 246, 0.9);
            color: white;
            padding: 8px 20px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 14px;
            letter-spacing: 2px;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        /* Modales de confirmation */
        .confirmation-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .confirmation-modal.show {
            display: flex;
        }

        .modal-content {
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            max-width: 380px;
            width: 90%;
            text-align: center;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .modal-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 36px;
        }

        .modal-icon.block {
            background: rgba(220, 38, 38, 0.2);
            color: var(--danger-color);
        }

        .modal-icon.freeze {
            background: rgba(59, 130, 246, 0.2);
            color: var(--accent-color);
        }

        .modal-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-light);
        }

        .modal-message {
            font-size: 16px;
            color: var(--text-muted);
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .modal-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .modal-button {
            padding: 12px 24px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .modal-button.cancel {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .modal-button.cancel:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .modal-button.confirm {
            background: var(--danger-color);
            color: white;
        }

        .modal-button.confirm.freeze {
            background: var(--accent-color);
        }

        .modal-button.confirm:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        /* Styles mode clair pour les modales */
        [data-theme="light"] .modal-content {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid var(--border-color);
            box-shadow: 0 20px 60px rgba(51, 65, 85, 0.15);
        }

        [data-theme="light"] .modal-title {
            color: var(--primary-color);
        }

        [data-theme="light"] .modal-message {
            color: var(--text-muted);
        }

        [data-theme="light"] .modal-button.cancel {
            background: rgba(51, 65, 85, 0.1);
            color: var(--primary-color);
            border: 1px solid var(--border-color);
        }

        [data-theme="light"] .modal-button.cancel:hover {
            background: rgba(51, 65, 85, 0.15);
        }

        /* Styles pour les cartes de prêt améliorées */
        .loan-card {
            display: flex;
            align-items: center;
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 18px 15px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            min-height: 80px;
        }

        .loan-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--accent-color);
            transition: width 0.3s ease;
        }

        .loan-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            border-color: var(--accent-color);
        }

        .loan-card:hover::before {
            width: 8px;
        }

        .loan-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: rgba(59, 130, 246, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--accent-color);
            margin-right: 15px;
            flex-shrink: 0;
            transition: all 0.3s ease;
        }

        .loan-card:hover .loan-icon {
            background: rgba(59, 130, 246, 0.2);
            transform: scale(1.05);
        }

        .loan-info {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .loan-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-light);
            margin: 0;
            line-height: 1.2;
        }

        .loan-description {
            font-size: 12px;
            color: var(--text-muted);
            opacity: 0.8;
            margin: 0;
            line-height: 1.3;
        }

        .loan-details {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 5px;
        }

        .loan-rate {
            font-size: 12px;
            font-weight: 600;
            color: var(--accent-color);
            background: rgba(59, 130, 246, 0.1);
            padding: 2px 8px;
            border-radius: 8px;
        }

        .loan-duration {
            font-size: 11px;
            color: var(--text-muted);
            opacity: 0.7;
        }

        .loan-arrow {
            font-size: 16px;
            color: var(--text-muted);
            opacity: 0.5;
            transition: all 0.3s ease;
            margin-left: 10px;
        }

        .loan-card:hover .loan-arrow {
            opacity: 1;
            transform: translateX(3px);
            color: var(--accent-color);
        }

        /* Responsive pour les cartes de prêt */
        @media (max-width: 380px) {
            .loan-card {
                padding: 15px 12px;
                margin-bottom: 10px;
                min-height: 70px;
            }
            
            .loan-icon {
                width: 40px;
                height: 40px;
                font-size: 20px;
                margin-right: 12px;
            }
            
            .loan-title {
                font-size: 14px;
            }
            
            .loan-description {
                font-size: 11px;
            }
            
            .loan-rate {
                font-size: 11px;
                padding: 2px 6px;
            }
            
            .loan-duration {
                font-size: 10px;
            }
            
            .loan-arrow {
                font-size: 14px;
                margin-left: 8px;
            }
        }

        @media (max-width: 320px) {
            .loan-card {
                padding: 12px 10px;
                min-height: 65px;
            }
            
            .loan-icon {
                width: 35px;
                height: 35px;
                font-size: 18px;
                margin-right: 10px;
            }
            
            .loan-title {
                font-size: 13px;
            }
            
            .loan-description {
                font-size: 10px;
            }
            
            .loan-details {
                gap: 8px;
                margin-top: 3px;
            }
        }

        .loan-icon {
            width: 60px;
            height: 60px;
            background: rgba(59, 130, 246, 0.2);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--accent-color);
            margin-right: 20px;
            flex-shrink: 0;
        }

        .loan-info {
            flex: 1;
        }

        .loan-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--text-light);
        }

        .loan-rate, .loan-duration {
            font-size: 14px;
            color: var(--text-muted);
            margin-bottom: 2px;
        }

        .loan-amount {
            text-align: right;
            margin-right: 20px;
        }

        .max-amount {
            font-size: 16px;
            font-weight: 600;
            color: var(--success-color);
        }

        .loan-arrow {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            transition: all 0.3s ease;
        }

        .loan-card:hover .loan-arrow {
            background: var(--accent-color);
            color: white;
            transform: translateX(5px);
        }

        /* Styles pour la carte d'éligibilité modernisée */
        .eligibility-card {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(147, 51, 234, 0.1));
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 20px;
            padding: 25px;
            margin: 20px 15px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .eligibility-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-color), var(--secondary-color));
        }

        .eligibility-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(59, 130, 246, 0.2);
            border-color: rgba(59, 130, 246, 0.4);
        }

        .eligibility-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(135deg, var(--accent-color), var(--secondary-color));
            color: white;
            padding: 8px 16px;
            border-radius: 25px;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .badge-text {
            letter-spacing: 0.5px;
        }

        .eligibility-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .eligibility-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .eligibility-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-light);
            margin: 0;
            line-height: 1.2;
        }

        .eligibility-status {
            display: flex;
            align-items: center;
            gap: 6px;
            background: rgba(34, 197, 94, 0.1);
            color: #22c55e;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            border: 1px solid rgba(34, 197, 94, 0.2);
        }

        .eligibility-details {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .amount-highlight {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .amount-highlight::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-color), var(--secondary-color));
            border-radius: 0 0 10px 10px;
        }

        .amount-label {
            display: block;
            font-size: 13px;
            color: var(--text-muted);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .amount-value {
            font-size: 32px;
            font-weight: 800;
            color: var(--accent-color);
            display: flex;
            align-items: baseline;
            justify-content: center;
            gap: 8px;
        }

        .currency {
            font-size: 18px;
            font-weight: 600;
            color: var(--secondary-color);
        }

        .eligibility-features {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        .feature-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 15px 10px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.3s ease;
        }

        .feature-item:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-2px);
        }

        .feature-item i {
            font-size: 20px;
            color: var(--accent-color);
            margin-bottom: 8px;
        }

        .feature-item span {
            font-size: 11px;
            font-weight: 500;
            color: var(--text-light);
            line-height: 1.3;
        }

        /* Responsive pour la carte d'éligibilité */
        @media (max-width: 768px) {
            .eligibility-card {
                margin: 15px 10px;
                padding: 20px;
            }
            
            .eligibility-header {
                flex-direction: column;
                gap: 10px;
                align-items: flex-start;
            }
            
            .eligibility-title {
                font-size: 18px;
            }
            
            .amount-value {
                font-size: 28px;
            }
            
            .eligibility-features {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .feature-item {
                flex-direction: row;
                text-align: left;
                padding: 12px;
            }
            
            .feature-item i {
                margin-bottom: 0;
                margin-right: 10px;
                font-size: 16px;
            }
        }

        @media (max-width: 480px) {
            .eligibility-card {
                margin: 10px 5px;
                padding: 15px;
            }
            
            .eligibility-badge {
                padding: 6px 12px;
                font-size: 11px;
            }
            
            .eligibility-title {
                font-size: 16px;
            }
            
            .amount-highlight {
                padding: 15px;
            }
            
            .amount-value {
                font-size: 24px;
            }
            
            .currency {
                font-size: 14px;
            }
        }

        /* Styles pour l'en-tête de section amélioré */
        .section-header-enhanced {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px 15px;
            background: var(--card-bg);
            border-radius: 15px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .section-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--accent-color), var(--secondary-color));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            margin-right: 15px;
        }

        .section-icon.simulator {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .section-info {
            flex: 1;
        }

        .section-info h3 {
            margin: 0 0 5px 0;
            font-size: 18px;
            font-weight: 700;
            color: var(--text-light);
        }

        .section-info p {
            margin: 0;
            font-size: 12px;
            color: var(--text-muted);
            opacity: 0.8;
        }

        .loans-count, .simulator-status {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
        }

        .count-number {
            font-size: 24px;
            font-weight: 800;
            color: var(--accent-color);
        }

        .count-label {
            font-size: 10px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .simulator-status {
            flex-direction: row;
            background: rgba(16, 185, 129, 0.1);
            padding: 6px 12px;
            border-radius: 20px;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .simulator-status i {
            color: #10b981;
            margin-right: 6px;
            font-size: 12px;
        }

        .simulator-status span {
            font-size: 11px;
            font-weight: 600;
            color: #10b981;
        }

        /* Styles pour la carte de prêt modernisée */
        .loan-status-card-modern {
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            margin: 0 15px 25px;
            position: relative;
            overflow: hidden;
        }

        .loan-status-card-modern::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-color), var(--secondary-color));
        }

        .loan-status-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .loan-badge {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(59, 130, 246, 0.1);
            color: var(--accent-color);
            padding: 8px 16px;
            border-radius: 25px;
            font-size: 12px;
            font-weight: 600;
            border: 1px solid rgba(59, 130, 246, 0.2);
        }

        .loan-reference {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-muted);
            font-family: 'Courier New', monospace;
        }

        .loan-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .detail-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .detail-item .label {
            font-size: 11px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .detail-item .value {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-light);
        }

        .loan-progress-modern {
            margin-bottom: 25px;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .progress-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-light);
        }

        .progress-percentage {
            font-size: 14px;
            font-weight: 700;
            color: var(--accent-color);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-color), var(--secondary-color));
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .progress-steps {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            text-align: center;
        }

        .step-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .step.completed .step-icon {
            background: var(--accent-color);
            color: white;
        }

        .step.active .step-icon {
            background: var(--secondary-color);
            color: white;
            animation: pulse 2s infinite;
        }

        .step.pending .step-icon {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-muted);
        }

        .step span {
            font-size: 11px;
            font-weight: 500;
            color: var(--text-light);
        }

        .step.pending span {
            color: var(--text-muted);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .loan-actions {
            display: flex;
            gap: 12px;
        }

        .action-btn {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .action-btn.primary {
            background: var(--accent-color);
            color: white;
        }

        .action-btn.primary:hover {
            background: #2563eb;
            transform: translateY(-2px);
        }

        .action-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .action-btn.secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        /* Styles pour le simulateur modernisé */
        .loan-simulator-modern {
            padding: 0 15px;
            margin-bottom: 30px;
        }

        .simulator-card-modern {
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            position: relative;
            overflow: hidden;
        }

        .simulator-card-modern::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #10b981, #059669);
        }

        .simulator-inputs {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
            margin-bottom: 30px;
        }

        /* Styles pour la disposition inline du simulateur */
        .simulator-inputs-inline {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }

        .input-group-inline {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        /* Styles pour la disposition empilée du simulateur */
        .simulator-inputs-stacked {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }

        .labels-row {
            display: flex;
            gap: 20px;
        }

        .label-group {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        /* Styles pour la disposition compacte du simulateur */
        .simulator-inputs-compact {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }

        .labels-row-compact {
            display: flex;
            gap: 20px;
            margin-bottom: 10px;
        }

        .label-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .input-range-inline {
            font-size: 10px;
            color: var(--text-muted);
            opacity: 0.7;
            font-weight: 500;
        }

        .inputs-row {
            display: flex;
            gap: 20px;
        }

        .inputs-row .input-wrapper {
            flex: 1;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .input-label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-light);
        }

        .input-label i {
            color: #10b981;
        }

        .input-label .fa-calendar-alt {
            position: relative;
            top: -4px;
        }

        .input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }

        .input-wrapper input {
            width: 100%;
            padding: 15px 60px 15px 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: var(--text-light);
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .input-wrapper input:focus {
            outline: none;
            border-color: #10b981;
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        /* Supprimer les flèches des inputs de type number */
        .input-wrapper input[type="number"]::-webkit-outer-spin-button,
        .input-wrapper input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .input-wrapper input[type="number"] {
            -moz-appearance: textfield;
            appearance: textfield;
        }

        .input-suffix {
            position: absolute;
            right: 15px;
            font-size: 12px;
            font-weight: 600;
            color: var(--text-muted);
            pointer-events: none;
        }

        .input-range {
            display: flex;
            justify-content: space-between;
            font-size: 10px;
            color: var(--text-muted);
            opacity: 0.7;
        }

        .calculation-result {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.1));
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
        }

        .result-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 15px;
        }

        .result-header i {
            color: #10b981;
        }

        .result-header span {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-light);
        }

        .result-amount {
            font-size: 36px;
            font-weight: 800;
            color: #10b981;
            margin-bottom: 20px;
        }

        .result-details {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .result-details .detail {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .result-details .detail span:first-child {
            font-size: 11px;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .result-details .detail span:last-child {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-light);
        }

        .simulate-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
        }

        .simulate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        }

        /* Responsive pour les nouvelles sections */
        @media (max-width: 768px) {
            .section-header-enhanced {
                padding: 15px;
            }
            
            .section-icon {
                width: 40px;
                height: 40px;
                font-size: 18px;
            }
            
            .loan-details {
                grid-template-columns: 1fr;
                gap: 15px;
                padding: 15px;
            }
            
            .progress-steps {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .step-icon {
                width: 35px;
                height: 35px;
                font-size: 14px;
            }
            
            .simulator-inputs {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .simulator-inputs-inline {
                flex-direction: column;
                gap: 20px;
            }
            
            .input-group-inline {
                width: 100%;
            }
            
            .simulator-inputs-stacked {
                gap: 20px;
            }
            
            .labels-row {
                flex-direction: column;
                gap: 15px;
            }
            
            .inputs-row {
                flex-direction: column;
                gap: 15px;
            }
            
            .simulator-inputs-compact {
                gap: 15px;
            }
            
            .labels-row-compact {
                flex-direction: column;
                gap: 15px;
                margin-bottom: 15px;
            }
            
            .label-item {
                gap: 3px;
            }
            
            .result-amount {
                font-size: 28px;
            }
            
            .action-btn {
                padding: 10px 15px;
                font-size: 13px;
            }
        }

        @media (max-width: 480px) {
            .section-header-enhanced {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .loan-status-card-modern,
            .simulator-card-modern {
                margin: 0 10px 20px;
                padding: 20px;
            }
            
            .simulator-inputs-inline {
                flex-direction: column;
                gap: 15px;
            }
            
            .input-group-inline {
                width: 100%;
            }
            
            .simulator-inputs-stacked {
                gap: 15px;
            }
            
            .labels-row {
                flex-direction: column;
                gap: 12px;
            }
            
            .inputs-row {
                flex-direction: column;
                gap: 12px;
            }
            
            .simulator-inputs-compact {
                gap: 12px;
            }
            
            .labels-row-compact {
                flex-direction: column;
                gap: 10px;
                margin-bottom: 12px;
            }
            
            .label-item {
                gap: 2px;
            }
            
            .input-range-inline {
                font-size: 9px;
            }
            
            .input-label {
                font-size: 13px;
            }
            
            .input-wrapper input {
                padding: 12px 50px 12px 12px;
                font-size: 14px;
            }
            
            .loan-actions {
                flex-direction: column;
            }
            
            .result-details {
                flex-direction: column;
                gap: 10px;
                text-align: left;
            }
            
            .result-amount {
                font-size: 24px;
            }
        }

        /* Styles pour la page rapport modernisée */
        .analytics-dashboard {
            padding: 0 15px;
            max-width: 100%;
            overflow-x: hidden;
            box-sizing: border-box;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding: 15px 20px;
            background: var(--card-bg);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .period-selector {
            display: flex;
            gap: 5px;
            background: rgba(255, 255, 255, 0.05);
            padding: 4px;
            border-radius: 10px;
        }

        .period-btn {
            padding: 8px 16px;
            border: none;
            background: transparent;
            color: var(--text-muted);
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .period-btn.active {
            background: var(--accent-color);
            color: white;
        }

        .period-btn:hover:not(.active) {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
        }

        .refresh-btn {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-muted);
        }

        .refresh-btn:hover {
            background: var(--accent-color);
            color: white;
            transform: rotate(180deg);
        }

        /* Métriques grid */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
        }

        .metric-card.revenue::before {
            background: linear-gradient(90deg, #10b981, #059669);
        }

        .metric-card.expenses::before {
            background: linear-gradient(90deg, #ef4444, #dc2626);
        }

        .metric-card.profit::before {
            background: linear-gradient(90deg, #8b5cf6, #7c3aed);
        }

        .metric-card.growth::before {
            background: linear-gradient(90deg, #f59e0b, #d97706);
        }

        .metric-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .metric-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
        }

        .metric-change {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 4px 8px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: 600;
        }

        .metric-change.positive {
            background: rgba(16, 185, 129, 0.1);
            color: #10b981;
        }

        .metric-change.negative {
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
        }

        .metric-value {
            font-size: 24px;
            font-weight: 800;
            color: var(--text-light);
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 13px;
            color: var(--text-muted);
            margin-bottom: 2px;
        }

        .metric-sublabel {
            font-size: 11px;
            color: var(--text-muted);
            opacity: 0.7;
            font-weight: 600;
        }

        /* Graphique moderne */
        .chart-container-modern {
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            max-width: 100%;
            overflow: hidden;
            box-sizing: border-box;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .chart-header h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 700;
            color: var(--text-light);
            flex-shrink: 0;
        }

        .chart-controls {
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .chart-legend {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .chart-legend .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            color: var(--text-muted);
            white-space: nowrap;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 3px;
        }

        .legend-color.revenue {
            background: #10b981;
        }

        .legend-color.expenses {
            background: #ef4444;
        }

        .legend-color.profit {
            background: #8b5cf6;
        }

        .chart-options {
            display: flex;
            gap: 5px;
            background: rgba(255, 255, 255, 0.05);
            padding: 4px;
            border-radius: 8px;
        }

        .chart-type-btn {
            width: 32px;
            height: 32px;
            border: none;
            background: transparent;
            color: var(--text-muted);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chart-type-btn.active {
            background: var(--accent-color);
            color: white;
        }

        .chart-canvas {
            width: 100%;
            height: 200px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            box-sizing: border-box;
        }

        .chart-placeholder {
            text-align: center;
            padding: 20px 15px;
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
        }

        .placeholder-content {
            max-width: 400px;
            margin: 0 auto;
            width: 100%;
            box-sizing: border-box;
        }

        .placeholder-icon {
            font-size: 48px;
            color: var(--accent-color);
            margin-bottom: 15px;
            opacity: 0.8;
        }

        .chart-placeholder h4 {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 8px;
        }

        .chart-placeholder p {
            font-size: 13px;
            color: var(--text-muted);
            margin-bottom: 20px;
            line-height: 1.4;
        }

        .placeholder-features {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            align-items: center;
            justify-items: start;
            max-width: 280px;
            margin: 0 auto;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 11px;
            color: var(--text-muted);
            font-weight: 500;
        }

        .feature-item i {
            color: var(--accent-color);
            font-size: 9px;
            flex-shrink: 0;
        }

        .clickable-feature {
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 8px 12px;
            border-radius: 8px;
            border: 1px solid transparent;
        }

        .clickable-feature:hover {
            background: rgba(59, 130, 246, 0.1);
            border-color: var(--accent-color);
            transform: translateY(-2px);
        }

        .clickable-feature:hover i {
            transform: scale(1.2);
        }

        /* Styles pour le graphique dynamique natif */
        #dynamic-chart-container {
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .native-chart-header {
            position: relative;
        }

        .chart-back-btn {
            position: absolute;
            top: -5px;
            left: -5px;
            background: var(--accent-color);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex !important;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .chart-back-btn:hover {
            background: var(--accent-color);
            border-color: var(--accent-color);
            transform: translateX(-3px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        .chart-back-btn i {
            font-size: 14px;
        }

        .chart-legend-native {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 25px;
        }

        .legend-item-native {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-light);
            font-size: 13px;
            font-weight: 600;
        }

        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        .chart-area-native {
            display: flex;
            align-items: flex-end;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            min-height: 300px;
            position: relative;
        }

        .chart-y-axis {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 260px;
            margin-right: 15px;
            padding-top: 10px;
        }

        .y-label {
            color: var(--text-muted);
            font-size: 11px;
            font-weight: 600;
            text-align: right;
            min-width: 35px;
        }

        .chart-bars-container {
            display: flex;
            justify-content: space-around;
            align-items: flex-end;
            flex: 1;
            height: 260px;
            position: relative;
        }

        .month-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .bars-set {
            display: flex;
            gap: 3px;
            align-items: flex-end;
            height: 240px;
        }

        .bar {
            width: 12px;
            min-height: 2px;
            border-radius: 6px 6px 0 0;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            animation: growBar 1.2s ease-out;
        }

        @keyframes growBar {
            from {
                height: 0;
                opacity: 0.5;
            }
            to {
                opacity: 1;
            }
        }

        .revenue-bar {
            background: linear-gradient(180deg, #10b981, #059669);
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.4);
        }

        .expense-bar {
            background: linear-gradient(180deg, #ef4444, #dc2626);
            box-shadow: 0 0 15px rgba(239, 68, 68, 0.4);
        }

        .profit-bar {
            background: linear-gradient(180deg, #3b82f6, #2563eb);
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.4);
        }

        .bar:hover {
            transform: scaleY(1.05);
            filter: brightness(1.2);
        }

        .month-label {
            color: var(--text-muted);
            font-size: 12px;
            font-weight: 600;
            text-align: center;
            margin-top: 5px;
        }

        .chart-summary-native {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .summary-item {
            text-align: center;
        }

        .summary-label {
            color: var(--text-muted);
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .summary-values {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .revenue-sum {
            color: #10b981;
            font-weight: 700;
            font-size: 12px;
        }

        .expense-sum {
            color: #ef4444;
            font-weight: 700;
            font-size: 12px;
        }

        .profit-sum {
            color: #3b82f6;
            font-weight: 700;
            font-size: 12px;
        }

        /* Tooltip pour les barres */
        .bar-tooltip {
            position: absolute;
            background: var(--dark-bg);
            color: var(--text-light);
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: 600;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            pointer-events: none;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        /* Responsive pour le graphique */
        @media (max-width: 768px) {
            .chart-legend-native {
                gap: 15px;
                flex-wrap: wrap;
            }
            
            .legend-item-native {
                font-size: 11px;
            }
            
            .bar {
                width: 8px;
            }
            
            .summary-values {
                gap: 10px;
            }
        }

        /* Transactions récentes */
        .recent-transactions {
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .recent-transactions .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .recent-transactions h4 {
            margin: 0;
            font-size: 16px;
            font-weight: 600;
            color: var(--text-light);
        }

        .view-all-btn {
            background: none;
            border: none;
            color: var(--accent-color);
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .view-all-btn:hover {
            background: rgba(59, 130, 246, 0.1);
        }

        .transactions-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .transaction-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .transaction-item:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateX(3px);
        }

        .transaction-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        .transaction-icon.positive {
            background: rgba(16, 185, 129, 0.1);
            color: #10b981;
        }

        .transaction-icon.negative {
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
        }

        .transaction-details {
            flex: 1;
        }

        .transaction-title {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 2px;
        }

        .transaction-date {
            font-size: 11px;
            color: var(--text-muted);
        }

        .transaction-amount {
            font-size: 14px;
            font-weight: 700;
        }

        .transaction-amount.positive {
            color: #10b981;
        }

        .transaction-amount.negative {
            color: #ef4444;
        }

        /* Actions modernes */
        .reports-actions-modern {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        .action-card {
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .action-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            border-color: var(--accent-color);
        }

        .action-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--accent-color), var(--secondary-color));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            flex-shrink: 0;
        }

        .action-content {
            flex: 1;
        }

        .action-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 3px;
        }

        .action-subtitle {
            font-size: 11px;
            color: var(--text-muted);
        }

        /* Responsive pour la page rapport */
        @media (max-width: 768px) {
            .metrics-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .dashboard-header {
                flex-direction: column;
                gap: 15px;
                padding: 15px;
            }
            
            .chart-controls {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
                width: 100%;
            }
            
            .chart-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .chart-legend {
                gap: 10px;
                justify-content: center;
                width: 100%;
            }
            
            .chart-legend .legend-item {
                font-size: 11px;
            }
            
            .chart-options {
                align-self: center;
            }
            
            .reports-actions-modern {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .action-card {
                padding: 15px;
            }
            
            .action-icon {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }
        }

        @media (max-width: 480px) {
            .analytics-dashboard {
                padding: 0 10px;
            }
            
            .metric-card {
                padding: 15px;
            }
            
            .metric-value {
                font-size: 20px;
            }
            
            .chart-container-modern {
                padding: 15px;
                margin-bottom: 20px;
            }
            
            .chart-canvas {
                height: 160px;
            }
            
            .chart-placeholder {
                padding: 15px 10px;
            }
            
            .placeholder-icon {
                font-size: 32px;
            }
            
            .chart-placeholder h4 {
                font-size: 14px;
                margin-bottom: 6px;
            }
            
            .chart-placeholder p {
                font-size: 11px;
                margin-bottom: 12px;
            }
            
            .placeholder-features {
                grid-template-columns: 1fr;
                gap: 6px;
                max-width: 200px;
            }
            
            .feature-item {
                font-size: 10px;
                gap: 5px;
                justify-self: center;
            }
            
            /* Responsive pour modales flux et prévisions */
            .modal-content-flux, .modal-content-budget {
                width: 95%;
                margin: 2vh auto;
                max-height: 95vh;
            }
            
            .flux-dashboard, .budget-dashboard {
                padding: 20px 15px;
            }
            
            .flux-filters, .forecast-controls {
                flex-direction: column;
                gap: 15px;
                align-items: stretch;
            }
            
            .filter-group, .control-group {
                justify-content: space-between;
            }
            
            .flux-summary, .forecast-summary {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .flux-card, .forecast-card {
                padding: 15px;
            }
            
            .flux-chart-area, .forecast-chart-area {
                height: 250px;
            }
            
            .flux-transaction-item {
                padding: 12px;
                gap: 10px;
            }
            
            .recommendation-item {
                padding: 15px;
                gap: 12px;
            }
            
            .recent-transactions {
                padding: 15px;
            }
            
            .transaction-item {
                padding: 10px;
            }
        }

        /* Modale de demande de prêt */
        .loan-application-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
            padding: 20px;
            box-sizing: border-box;
        }

        .loan-application-modal.show {
            display: flex;
        }

        .loan-modal-content {
            background: var(--dark-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .loan-modal-header {
            padding: 25px 30px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 0;
            padding-bottom: 20px;
        }

        .loan-modal-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--text-light);
            margin: 0;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--text-muted);
            font-size: 24px;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
        }

        .loan-modal-body {
            padding: 30px;
        }

        .form-section {
            margin-bottom: 30px;
        }

        .form-section h4 {
            font-size: 18px;
            font-weight: 600;
            color: var(--accent-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(59, 130, 246, 0.2);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-light);
            margin-bottom: 8px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 12px 15px;
            color: var(--text-light);
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .form-group small {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 5px;
        }

        .documents-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .document-item {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            gap: 15px;
        }

        .document-item i {
            font-size: 20px;
            color: var(--accent-color);
            width: 24px;
        }

        .document-item span {
            flex: 1;
            font-weight: 500;
        }

        .document-item input[type="file"] {
            background: none;
            border: none;
            color: var(--text-muted);
            font-size: 12px;
            cursor: pointer;
        }

        .loan-summary {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 15px;
            padding: 20px;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .summary-label {
            font-size: 14px;
            color: var(--text-muted);
        }

        .summary-value {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-light);
        }

        .form-actions {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn-primary, .btn-secondary {
            padding: 12px 24px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--accent-color);
            color: white;
        }

        .btn-primary:hover {
            background: #2563eb;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        /* Responsive pour la modale */
        @media (max-width: 768px) {
            .loan-modal-content {
                margin: 5px;
                max-height: 95vh;
                width: calc(100% - 10px);
                border-radius: 15px;
            }

            .loan-modal-header {
                padding: 15px;
            }

            .loan-modal-title {
                font-size: 20px;
            }

            .loan-modal-body {
                padding: 15px;
                max-height: calc(95vh - 120px);
            }

            .form-section {
                margin-bottom: 20px;
            }

            .form-section h4 {
                font-size: 16px;
                margin-bottom: 12px;
            }

            .form-row {
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .form-group {
                margin-bottom: 12px;
            }

            .form-group label {
                font-size: 13px;
                margin-bottom: 6px;
            }

            .form-group input,
            .form-group select,
            .form-group textarea {
                padding: 10px;
                font-size: 14px;
            }

            .loan-summary {
                padding: 15px;
                margin: 15px 0;
            }

            .summary-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .form-actions {
                flex-direction: column;
                gap: 10px;
                padding-top: 15px;
                margin-top: 20px;
            }

            .btn-primary, .btn-secondary {
                width: 100%;
                justify-content: center;
                padding: 14px 20px;
                font-size: 16px;
            }
        }

        @media (max-width: 480px) {
            .loan-modal-content {
                margin: 0;
                max-height: 100vh;
                width: 100%;
                border-radius: 0;
            }

            .loan-modal-header {
                padding: 12px 15px;
            }

            .loan-modal-title {
                font-size: 18px;
            }

            .close-modal {
                width: 28px;
                height: 28px;
                font-size: 18px;
            }

            .loan-modal-body {
                padding: 10px 15px 15px;
                max-height: calc(100vh - 100px);
            }

            .form-section {
                margin-bottom: 15px;
            }

            .form-section h4 {
                font-size: 15px;
                margin-bottom: 10px;
            }

            .form-group {
                margin-bottom: 10px;
            }

            .form-group label {
                font-size: 12px;
                margin-bottom: 5px;
            }

            .form-group input,
            .form-group select,
            .form-group textarea {
                padding: 8px 10px;
                font-size: 13px;
                border-radius: 8px;
            }

            .document-item {
                padding: 10px;
                border-radius: 8px;
            }

            .loan-summary {
                padding: 12px;
                margin: 12px 0;
                border-radius: 10px;
            }

            .summary-grid {
                gap: 8px;
            }

            .summary-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 2px;
            }

            .summary-label {
                font-size: 12px;
            }

            .summary-value {
                font-size: 14px;
            }

            .form-actions {
                padding-top: 12px;
                margin-top: 15px;
                gap: 8px;
            }

            .btn-primary, .btn-secondary {
                padding: 12px 16px;
                font-size: 14px;
                border-radius: 10px;
            }
        }

        @media (max-width: 360px) {
            .loan-modal-header {
                padding: 10px 12px;
            }

            .loan-modal-title {
                font-size: 16px;
            }

            .close-modal {
                width: 26px;
                height: 26px;
                font-size: 16px;
            }

            .loan-modal-body {
                padding: 8px 12px 12px;
            }

            .form-section h4 {
                font-size: 14px;
            }

            .form-group input,
            .form-group select,
            .form-group textarea {
                padding: 6px 8px;
                font-size: 12px;
            }

            .btn-primary, .btn-secondary {
                padding: 10px 14px;
                font-size: 13px;
            }
        }

        /* Styles mode clair pour la modale */
        [data-theme="light"] .loan-modal-content {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid var(--border-color);
        }

        [data-theme="light"] .loan-modal-title {
            color: var(--primary-color);
        }

        [data-theme="light"] .form-group label {
            color: var(--primary-color);
        }

        [data-theme="light"] .form-group input,
        [data-theme="light"] .form-group select,
        [data-theme="light"] .form-group textarea {
            background: rgba(51, 65, 85, 0.05);
            border: 1px solid var(--border-color);
            color: var(--primary-color);
        }

        [data-theme="light"] .document-item {
            background: rgba(51, 65, 85, 0.05);
            border: 1px solid var(--border-color);
        }

        [data-theme="light"] .loan-summary {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.2);
        }

        [data-theme="light"] .summary-value {
            color: var(--primary-color);
        }

        .card-actions {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
            padding: 0 5px;
        }

        .card-action {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 12px 8px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s, background 0.2s;
            border: 1px solid rgba(192, 192, 192, 0.1);
            min-height: 60px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .card-action:hover {
            transform: translateY(-2px);
            background: rgba(192, 192, 192, 0.15);
        }

        .card-action i {
            font-size: 20px;
            margin-bottom: 6px;
            color: var(--secondary-color);
        }

        .card-action span {
            font-size: 11px;
            font-weight: 500;
        }

        /* Responsive Design pour les cartes */
        @media (max-width: 480px) {
            .cards-container {
                padding: 0 10px;
            }
            
            .modern-card-container {
                height: 200px;
                margin-bottom: 20px;
            }
            
            .modern-card-face {
                padding: 20px;
            }
            
            .modern-card-number {
                font-size: 20px;
                letter-spacing: 3px;
            }
            
            .card-holder-name, .card-expiry-date, .card-cvc {
                font-size: 14px;
            }
            
            .bank-logo {
                font-size: 20px;
            }
            
            .bank-name-left {
                top: 30px;
                left: 55px;
                font-size: 11px;
            }
            
            .chip-image {
                width: 35px;
                height: 25px;
            }
            
            .card-actions {
                gap: 10px;
                margin-bottom: 18px;
            }
            
            .card-action {
                padding: 10px 6px;
                min-height: 55px;
            }
            
            .card-action i {
                font-size: 18px;
            }
            
            .card-action span {
                font-size: 10px;
            }
        }

        @media (max-width: 360px) {
            .modern-card-container {
                height: 180px;
            }
            
            .modern-card-face {
                padding: 18px;
            }
            
            .modern-card-number {
                font-size: 18px;
                letter-spacing: 2px;
            }
            
            .card-actions {
                gap: 8px;
            }
            
            .card-action {
                padding: 8px 4px;
                min-height: 50px;
            }
        }

        /* Page Profil */
        .profile-container {
            padding: 0 20px;
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding: 20px;
            background: var(--card-bg);
            border-radius: 12px;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: var(--silver-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            color: var(--primary-color);
        }

        .profile-info h3 {
            margin: 0 0 5px 0;
            font-size: 20px;
        }

        .profile-info p {
            margin: 0;
            opacity: 0.8;
            font-size: 14px;
        }

        .profile-menu {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: var(--card-bg);
            border-radius: 12px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .menu-item:hover {
            transform: translateX(5px);
            background: rgba(192, 192, 192, 0.1);
        }

        .menu-item i {
            font-size: 20px;
            width: 24px;
            text-align: center;
            color: var(--secondary-color);
        }

        /* Page Notifications */
        .notifications-container {
            padding: 0 20px;
        }

        .notification-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: var(--card-bg);
            border-radius: 12px;
            margin-bottom: 15px;
            transition: transform 0.2s;
        }

        .notification-item:hover {
            transform: translateX(5px);
        }

        .notification-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .notification-info {
            flex: 1;
        }

        .notification-title {
            font-weight: 600;
            margin-bottom: 3px;
        }

        .notification-details {
            font-size: 12px;
            opacity: 0.8;
        }

        .notification-time {
            font-size: 10px;
            opacity: 0.6;
        }

        /* Modal d'ajout de partenaire */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            display: none;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background: var(--dark-bg);
            border-radius: 16px;
            padding: 25px;
            width: 85%;
            max-width: 400px;
            max-height: 80vh;
            overflow-y: auto;
            border: 1px solid rgba(192, 192, 192, 0.2);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            margin: 0;
            color: var(--secondary-color);
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 20px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .modal-close:hover {
            transform: scale(1.1);
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 14px;
            opacity: 0.9;
        }

        .input-field {
            width: 100%;
        }

        .input-field input, .input-field select {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid rgba(192, 192, 192, 0.3);
            background: rgba(30, 58, 138, 0.1);
            color: var(--text-light);
            font-size: 16px;
            box-sizing: border-box;
        }

        .input-field input:focus, .input-field select:focus {
            outline: none;
            border-color: var(--secondary-color);
        }

        .primary-button {
            width: 100%;
            padding: 15px;
            background: var(--silver-gradient);
            color: var(--primary-color);
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .primary-button:hover {
            transform: translateY(-2px);
        }

        /* Page virement de masse */
        .bulk-transfer-container {
            padding: 0 20px;
        }

        .upload-section {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            margin-bottom: 20px;
            border: 2px dashed rgba(192, 192, 192, 0.3);
        }

        .upload-icon {
            font-size: 48px;
            color: var(--secondary-color);
            margin-bottom: 15px;
        }

        .template-download {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--secondary-color);
            text-decoration: none;
            margin-top: 15px;
            transition: color 0.2s;
        }

        .template-download:hover {
            color: var(--accent-color);
        }

        .recipients-list {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            max-height: 200px;
            overflow-y: auto;
        }

        .recipient-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .recipient-item:last-child {
            border-bottom: none;
        }

        .recipient-info {
            flex: 1;
        }

        .recipient-name {
            font-weight: 500;
            margin-bottom: 3px;
        }

        .recipient-account {
            font-size: 12px;
            opacity: 0.8;
        }

        .recipient-amount {
            font-weight: 600;
            color: var(--secondary-color);
        }

        .summary-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .summary-total {
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            padding-top: 10px;
            font-weight: 700;
            font-size: 18px;
        }

        /* Toast notification */
        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            z-index: 1000;
            font-size: 14px;
            animation: fadeIn 0.3s, fadeOut 0.3s 2.7s forwards;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; visibility: hidden; }
        }

        /* États vides */
        .empty-state {
            text-align: center;
            padding: 30px;
            opacity: 0.7;
        }

        .empty-state i {
            font-size: 48px;
            margin-bottom: 15px;
            color: var(--secondary-color);
        }

        /* Responsive */
        @media (max-width: 480px) {
            .app-container {
                max-width: 100%;
            }
            
            .quick-actions {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .professional-actions {
                grid-template-columns: 1fr;
            }
        }

        /* Styles pour la page recharge */
        .recharge-form {
            padding: 20px;
        }

        .operator-selection {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .operator-option {
            flex: 1;
            padding: 15px;
            border: 2px solid rgba(192, 192, 192, 0.2);
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.05);
        }

        .operator-option.selected {
            border-color: var(--professional-color);
            background: rgba(6, 182, 212, 0.1);
        }

        .operator-option img {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            margin-bottom: 8px;
        }

        .operator-option span {
            display: block;
            font-size: 14px;
            color: var(--text-light);
        }

        .amount-presets {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .preset-amount {
            padding: 12px 8px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(192, 192, 192, 0.2);
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .preset-amount:hover {
            background: rgba(6, 182, 212, 0.2);
            border-color: var(--professional-color);
        }

        .preset-amount.selected {
            background: var(--professional-color);
            border-color: var(--professional-color);
            color: white;
        }

        /* Styles pour la page factures */
        .bills-tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            margin: 20px;
            overflow: hidden;
        }

        .tab-button {
            flex: 1;
            padding: 15px 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .tab-button.active {
            background: var(--professional-color);
            color: white;
        }

        .tab-button i {
            font-size: 16px;
        }

        .tab-button span {
            font-size: 12px;
            font-weight: 500;
        }

        .bills-summary {
            padding: 0 20px 20px;
        }

        .summary-card {
            background: var(--blue-gradient);
            border-radius: 16px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .summary-icon {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .summary-amount {
            font-size: 24px;
            font-weight: bold;
            color: white;
        }

        .summary-label {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
        }

        .bills-list {
            padding: 0 20px;
        }

        .bill-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(192, 192, 192, 0.1);
        }

        .bill-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .bill-item.urgent {
            border-color: var(--danger-color);
            background: rgba(239, 68, 68, 0.1);
        }

        .bill-icon {
            width: 45px;
            height: 45px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            background: rgba(6, 182, 212, 0.2);
            color: var(--professional-color);
        }

        .bill-item.urgent .bill-icon {
            background: rgba(239, 68, 68, 0.2);
            color: var(--danger-color);
        }

        .bill-info {
            flex: 1;
        }

        .bill-title {
            font-weight: 600;
            font-size: 16px;
            color: var(--text-light);
            margin-bottom: 4px;
        }

        .bill-details {
            font-size: 14px;
            color: var(--text-muted);
            margin-bottom: 2px;
        }

        .bill-due {
            font-size: 13px;
            color: var(--text-muted);
        }

        .bill-amount {
            text-align: right;
        }

        .amount {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 4px;
        }

        .status {
            font-size: 12px;
            padding: 4px 8px;
            border-radius: 6px;
            font-weight: 500;
        }

        .status.pending {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning-color);
        }

        .status.paid {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success-color);
        }

        .status.overdue {
            background: rgba(239, 68, 68, 0.2);
            color: var(--danger-color);
        }

        /* Styles pour la page épargne */
        .savings-overview {
            padding: 20px;
        }

        .savings-card {
            background: var(--blue-gradient);
            border-radius: 20px;
            padding: 25px;
            color: white;
        }

        .savings-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .savings-icon {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .savings-title {
            font-size: 16px;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .savings-amount {
            font-size: 28px;
            font-weight: bold;
        }

        .savings-progress {
            margin-top: 20px;
        }

        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 8px;
        }

        .progress-fill {
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .progress-text {
            font-size: 14px;
            opacity: 0.8;
        }

        .savings-products, .current-savings {
            padding: 0 20px 20px;
        }

        .product-card, .savings-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(192, 192, 192, 0.1);
        }

        .product-card:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .product-icon, .type-icon {
            width: 45px;
            height: 45px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            background: rgba(16, 185, 129, 0.2);
            color: var(--success-color);
        }

        .product-info, .type-info {
            flex: 1;
        }

        .product-title, .type-name {
            font-weight: 600;
            font-size: 16px;
            color: var(--text-light);
            margin-bottom: 4px;
        }

        .product-rate {
            font-size: 14px;
            color: var(--success-color);
            font-weight: 500;
            margin-bottom: 2px;
        }

        .product-description, .type-details {
            font-size: 13px;
            color: var(--text-muted);
        }

        .product-arrow {
            color: var(--text-muted);
            font-size: 16px;
        }

        .savings-balance {
            text-align: right;
        }

        .balance-amount {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 4px;
        }

        .balance-interest {
            font-size: 13px;
            color: var(--success-color);
        }

        .savings-actions {
            padding: 20px;
            display: flex;
            gap: 12px;
        }

        .action-button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .action-button.primary {
            background: var(--success-color);
            color: white;
        }

        .action-button.primary:hover {
            background: #059669;
            transform: translateY(-2px);
        }

        .action-button.secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
            border: 1px solid rgba(192, 192, 192, 0.2);
        }

        .action-button.secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* ===== MODE CLAIR - COMPTE PROFESSIONNEL MODERNISÉ ===== */
        [data-theme="light"] {
            --primary-color: #334155;
            --secondary-color: #64748b;
            --accent-color: #3b82f6;
            --dark-bg: #f8fafc;
            --card-bg: rgba(255, 255, 255, 0.9);
            --text-light: #1e293b;
            --text-muted: #64748b;
            --success-color: #059669;
            --danger-color: #dc2626;
            --warning-color: #d97706;
            --professional-color: #0891b2;
            --silver-gradient: linear-gradient(135deg, #e2e8f0, #cbd5e1);
            --blue-gradient: linear-gradient(135deg, #334155, #475569);
            --page-bg: linear-gradient(135deg, #f1f5f9, #e2e8f0);
            --shadow: rgba(0, 0, 0, 0.1);
            --border-color: #d1d5db;
        }

        [data-theme="light"] body {
            background: var(--page-bg);
            color: var(--text-light);
        }

        [data-theme="light"] .app-container {
            background: rgba(248, 250, 252, 0.95);
            box-shadow: 0 0 40px rgba(51, 65, 85, 0.15);
            backdrop-filter: blur(20px);
        }

        /* En-tête modernisé mode clair */
        [data-theme="light"] .header {
            background: rgba(255, 255, 255, 0.95);
            border-bottom: 1px solid var(--border-color);
            backdrop-filter: blur(10px);
        }

        [data-theme="light"] .header-title {
            color: var(--primary-color);
        }

        [data-theme="light"] .theme-toggle {
            background: rgba(51, 65, 85, 0.1);
            color: var(--primary-color);
            border: 1px solid rgba(51, 65, 85, 0.2);
        }

        .theme-toggle {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        [data-theme="light"] .theme-toggle:hover {
            background: rgba(51, 65, 85, 0.15);
            transform: translateY(-2px);
        }

        /* Page compte professionnel modernisée */
        [data-theme="light"] .professional-page {
            background: var(--page-bg);
        }

        [data-theme="light"] .page-header {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            margin: 20px;
            box-shadow: 0 8px 32px rgba(51, 65, 85, 0.08);
            backdrop-filter: blur(10px);
        }

        [data-theme="light"] .page-header h2 {
            color: var(--primary-color);
            font-weight: 700;
        }

        [data-theme="light"] .back-button {
            background: linear-gradient(135deg, var(--primary-color), #1e293b);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 15px;
            box-shadow: 0 4px 16px rgba(51, 65, 85, 0.2);
        }

        [data-theme="light"] .back-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 24px rgba(51, 65, 85, 0.3);
        }

        /* En-tête professionnel modernisé */
        [data-theme="light"] .professional-header {
            background: linear-gradient(135deg, var(--primary-color), #1e293b);
            margin: 20px;
            border-radius: 20px;
            box-shadow: 0 12px 40px rgba(51, 65, 85, 0.2);
            position: relative;
            overflow: hidden;
        }

        [data-theme="light"] .professional-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(255,255,255,0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        [data-theme="light"] .professional-badge {
            background: rgba(255, 255, 255, 0.25);
            color: white;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        [data-theme="light"] .professional-title {
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        [data-theme="light"] .professional-subtitle {
            color: rgba(255, 255, 255, 0.9);
        }

        /* Statistiques modernisées */
        [data-theme="light"] .professional-stats {
            padding: 0 20px;
            margin-bottom: 30px;
        }

        [data-theme="light"] .stat-card {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 4px 16px rgba(51, 65, 85, 0.08);
            transition: all 0.3s ease;
        }

        [data-theme="light"] .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 32px rgba(51, 65, 85, 0.15);
        }

        [data-theme="light"] .stat-value {
            color: var(--primary-color);
            font-size: 22px;
            font-weight: 800;
        }

        [data-theme="light"] .stat-label {
            color: var(--text-muted);
            font-weight: 500;
        }

        /* Actions professionnelles modernisées */
        [data-theme="light"] .professional-actions {
            padding: 0 20px;
            margin-bottom: 30px;
            gap: 20px;
        }

        [data-theme="light"] .action-card {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 25px 20px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        [data-theme="light"] .action-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        [data-theme="light"] .action-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 32px rgba(51, 65, 85, 0.15);
            border-color: var(--accent-color);
        }

        [data-theme="light"] .action-card:hover::before {
            transform: scaleX(1);
        }

        [data-theme="light"] .action-icon {
            color: var(--primary-color);
            font-size: 32px;
            margin-bottom: 12px;
        }

        [data-theme="light"] .action-title {
            color: var(--text-light);
            font-weight: 600;
            font-size: 16px;
        }

        [data-theme="light"] .action-description {
            color: var(--text-muted);
            font-size: 13px;
        }

        /* Section partenaires modernisée */
        [data-theme="light"] .partners-section {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            margin: 20px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(51, 65, 85, 0.08);
        }

        [data-theme="light"] .section-title {
            color: var(--primary-color);
            font-weight: 600;
            font-size: 18px;
        }

        [data-theme="light"] .add-button {
            background: linear-gradient(135deg, var(--accent-color), #2563eb);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 16px rgba(59, 130, 246, 0.3);
        }

        /* Styles mode clair pour la page des cartes */
        [data-theme="light"] .cards-container {
            background: transparent;
        }

        [data-theme="light"] .modern-card-face {
            background-image: url('./assets/mont_blanSc.jpg');
            background-size: cover;
            background-position: center 21%;
            background-repeat: no-repeat;
            color: #ffffff;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        [data-theme="light"] .modern-card-face::before {
            background-color: rgba(0, 0, 0, 0.2);
        }

        [data-theme="light"] .bank-name-left {
            color: #ffffff;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
        }

        [data-theme="light"] .bank-logo {
            color: #ffffff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        }

        [data-theme="light"] .modern-card-number {
            color: #ffffff;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
        }

        [data-theme="light"] .card-holder-name,
        [data-theme="light"] .card-expiry-date,
        [data-theme="light"] .card-cvc {
            color: #ffffff;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
        }

        [data-theme="light"] .label {
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        [data-theme="light"] .card-action {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid var(--border-color);
            box-shadow: 0 2px 8px rgba(51, 65, 85, 0.08);
        }

        [data-theme="light"] .card-action:hover {
            background: rgba(255, 255, 255, 1);
            border-color: var(--accent-color);
            box-shadow: 0 4px 16px rgba(59, 130, 246, 0.15);
        }

        [data-theme="light"] .card-action i {
            color: var(--accent-color);
        }

        [data-theme="light"] .card-action span {
            color: var(--primary-color);
            font-weight: 500;
        }

        [data-theme="light"] .add-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 24px rgba(59, 130, 246, 0.4);
        }

        /* Éléments partenaires */
        [data-theme="light"] .partner-item {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(51, 65, 85, 0.1);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 12px;
            transition: all 0.3s ease;
        }

        [data-theme="light"] .partner-item:hover {
            background: white;
            border-color: var(--accent-color);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(51, 65, 85, 0.1);
        }

        [data-theme="light"] .partner-name {
            color: var(--text-light);
            font-weight: 600;
        }

        [data-theme="light"] .partner-info {
            color: var(--text-muted);
            font-size: 14px;
        }

        /* Navigation modernisée */
        [data-theme="light"] .bottom-nav {
            background: rgba(255, 255, 255, 0.95);
            border-top: 1px solid var(--border-color);
            backdrop-filter: blur(20px);
        }

        [data-theme="light"] .nav-item {
            color: var(--text-muted);
        }

        [data-theme="light"] .nav-item.active {
            color: var(--primary-color);
        }

        [data-theme="light"] .nav-item.active::before {
            background: var(--primary-color);
        }

        /* Animations d'entrée */
        [data-theme="light"] .professional-header,
        [data-theme="light"] .professional-stats,
        [data-theme="light"] .professional-actions,
        [data-theme="light"] .partners-section {
            animation: slideInUp 0.6s ease-out;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* États d'attente */
        [data-theme="light"] .loading-state {
            color: var(--text-muted);
            text-align: center;
            padding: 40px;
        }

        [data-theme="light"] .empty-state {
            color: var(--text-muted);
            text-align: center;
            padding: 40px;
        }

        [data-theme="light"] .empty-state i {
            font-size: 48px;
            color: rgba(51, 65, 85, 0.3);
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="app-container" id="app-container">
        <!-- En-tête -->
        <div class="header">
            <div class="header-title">
                <i class="fas fa-university"></i>
                K-Bank
            </div>
            <div class="header-actions">
                <button class="theme-toggle" onclick="toggleTheme()">
                    <i class="fas fa-sun" id="theme-icon"></i>
                </button>
                <div class="header-icon" onclick="switchTab('profile')">
                    <i class="fas fa-user"></i>
                </div>
                <div class="notification-bell" onclick="switchTab('notifications')">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge">3</span>
                </div>
            </div>
        </div>

        <!-- Contenu principal -->
        <div class="content" id="content">
            <!-- Page d'accueil -->
            <div class="page home-page active" id="home-page">
                <div class="welcome-section">
                    <div class="welcome-text">Bonjour, Godwin BATOLA</div>
                    <div class="balance-amount">5,240,500 Fcfa</div>
                    <div class="account-number">Compte: GA21 3042 0001 2345 6789 0304</div>
                </div>

                <div class="quick-actions">
                    <div class="quick-action" onclick="switchTab('transfer')">
                        <i class="fas fa-exchange-alt"></i>
                        <span>Virement</span>
                    </div>
                    <div class="quick-action" onclick="switchTab('cards')">
                        <i class="fas fa-credit-card"></i>
                        <span>Cartes</span>
                    </div>
                    <div class="quick-action" onclick="switchTab('bills')">
                        <i class="fas fa-file-invoice"></i>
                        <span>Factures</span>
                    </div>
                    <div class="quick-action" onclick="switchTab('savings')">
                        <i class="fas fa-chart-line"></i>
                        <span>Épargne</span>
                    </div>
                    <div class="quick-action" onclick="switchTab('loans')">
                        <i class="fas fa-hand-holding-usd"></i>
                        <span>Prêts</span>
                    </div>
                </div>

                <div class="transactions-section">
                    <div class="section-title">
                        <span>Dernières transactions</span>
                        <a href="#" style="color: var(--secondary-color); font-size: 14px;">Voir tout</a>
                    </div>
                    
                    <div class="transaction-list">
                        <div class="transaction-item">
                            <div class="transaction-icon income">
                                <i class="fas fa-arrow-down"></i>
                            </div>
                            <div class="transaction-info">
                                <div class="transaction-title">Salaire</div>
                                <div class="transaction-details">Entreprise BATOLA SARL</div>
                            </div>
                            <div class="transaction-amount" style="color: var(--success-color);">+450,000 Fcfa</div>
                        </div>
                        
                        <div class="transaction-item">
                            <div class="transaction-icon expense">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                            <div class="transaction-info">
                                <div class="transaction-title">Supermarket</div>
                                <div class="transaction-details">SUPERMARCHÉ CASINO</div>
                            </div>
                            <div class="transaction-amount" style="color: var(--danger-color);">-75,400 Fcfa</div>
                        </div>
                        
                        <div class="transaction-item">
                            <div class="transaction-icon expense">
                                <i class="fas fa-bolt"></i>
                            </div>
                            <div class="transaction-info">
                                <div class="transaction-title">Électricité</div>
                                <div class="transaction-details">SEEG</div>
                            </div>
                            <div class="transaction-amount" style="color: var(--danger-color);">-32,500 Fcfa</div>
                        </div>
                        
                        <div class="transaction-item">
                            <div class="transaction-icon income">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="transaction-info">
                                <div class="transaction-title">Remboursement</div>
                                <div class="transaction-details">Marie KOUGNA</div>
                            </div>
                            <div class="transaction-amount" style="color: var(--success-color);">+25,000 Fcfa</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page Recharge -->
            <div class="page recharge-page" id="recharge-page">
                <div class="page-header">
                    <button class="back-button" onclick="switchTab('home')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>Recharge Mobile</h2>
                </div>

                <div class="content">
                    <div class="recharge-form">
                        <div class="input-group">
                            <label>Numéro de téléphone</label>
                            <div class="input-field">
                                <input type="tel" placeholder="06 XX XX XX XX" id="recharge-phone" maxlength="10">
                            </div>
                        </div>

                        <div class="input-group">
                            <label>Opérateur</label>
                            <div class="operator-selection">
                                <div class="operator-option" onclick="selectOperator('moov')">
                                    <img src="assets/logos/moov.png" alt="Moov">
                                    <span>Moov</span>
                                </div>
                                <div class="operator-option" onclick="selectOperator('airtel')">
                                    <img src="assets/logos/airtel-money.png" alt="Airtel">
                                    <span>Airtel</span>
                                </div>
                            </div>
                        </div>

                        <div class="input-group">
                            <label>Montant (Fcfa)</label>
                            <div class="amount-presets">
                                <div class="preset-amount" onclick="setRechargeAmount(500)">500</div>
                                <div class="preset-amount" onclick="setRechargeAmount(1000)">1000</div>
                                <div class="preset-amount" onclick="setRechargeAmount(2000)">2000</div>
                                <div class="preset-amount" onclick="setRechargeAmount(5000)">5000</div>
                            </div>
                            <div class="input-field">
                                <input type="number" placeholder="Montant personnalisé" id="recharge-amount">
                            </div>
                        </div>

                        <button class="submit-button" onclick="confirmRecharge()">
                            <i class="fas fa-mobile-alt"></i>
                            Recharger
                        </button>
                    </div>
                </div>
            </div>

            <!-- Page Factures -->
            <div class="page bills-page" id="bills-page">
                <div class="page-header">
                    <button class="back-button" onclick="switchTab('home')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>Gestion des Factures</h2>
                </div>

                <div class="content">
                    <div class="bills-tabs">
                        <div class="tab-button active" onclick="switchBillsTab('pending')">
                            <i class="fas fa-clock"></i>
                            <span>En attente</span>
                        </div>
                        <div class="tab-button" onclick="switchBillsTab('paid')">
                            <i class="fas fa-check-circle"></i>
                            <span>Payées</span>
                        </div>
                        <div class="tab-button" onclick="switchBillsTab('overdue')">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>En retard</span>
                        </div>
                    </div>

                    <div class="bills-content" id="bills-pending">
                        <div class="bills-summary">
                            <div class="summary-card">
                                <div class="summary-icon">
                                    <i class="fas fa-file-invoice"></i>
                                </div>
                                <div class="summary-info">
                                    <div class="summary-amount">350,000 Fcfa</div>
                                    <div class="summary-label">Total à payer</div>
                                </div>
                            </div>
                        </div>

                        <div class="bills-list">
                            <div class="bill-item" onclick="viewBillDetails(1)">
                                <div class="bill-icon">
                                    <i class="fas fa-bolt"></i>
                                </div>
                                <div class="bill-info">
                                    <div class="bill-title">SEEG - Électricité</div>
                                    <div class="bill-details">Facture #ELE-2024-001</div>
                                    <div class="bill-due">Échéance: 15/02/2024</div>
                                </div>
                                <div class="bill-amount">
                                    <div class="amount">85,000 Fcfa</div>
                                    <div class="status pending">En attente</div>
                                </div>
                            </div>

                            <div class="bill-item" onclick="viewBillDetails(2)">
                                <div class="bill-icon">
                                    <i class="fas fa-tint"></i>
                                </div>
                                <div class="bill-info">
                                    <div class="bill-title">SEEG - Eau</div>
                                    <div class="bill-details">Facture #EAU-2024-001</div>
                                    <div class="bill-due">Échéance: 20/02/2024</div>
                                </div>
                                <div class="bill-amount">
                                    <div class="amount">45,000 Fcfa</div>
                                    <div class="status pending">En attente</div>
                                </div>
                            </div>

                            <div class="bill-item" onclick="viewBillDetails(3)">
                                <div class="bill-icon">
                                    <i class="fas fa-wifi"></i>
                                </div>
                                <div class="bill-info">
                                    <div class="bill-title">Gabon Telecom - Internet</div>
                                    <div class="bill-details">Facture #INT-2024-001</div>
                                    <div class="bill-due">Échéance: 25/02/2024</div>
                                </div>
                                <div class="bill-amount">
                                    <div class="amount">220,000 Fcfa</div>
                                    <div class="status pending">En attente</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bills-content" id="bills-paid" style="display: none;">
                        <div class="bills-list">
                            <div class="bill-item">
                                <div class="bill-icon">
                                    <i class="fas fa-phone"></i>
                                </div>
                                <div class="bill-info">
                                    <div class="bill-title">Airtel - Téléphone</div>
                                    <div class="bill-details">Facture #TEL-2024-001</div>
                                    <div class="bill-due">Payée le: 10/01/2024</div>
                                </div>
                                <div class="bill-amount">
                                    <div class="amount">25,000 Fcfa</div>
                                    <div class="status paid">Payée</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bills-content" id="bills-overdue" style="display: none;">
                        <div class="bills-list">
                            <div class="bill-item urgent">
                                <div class="bill-icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="bill-info">
                                    <div class="bill-title">Assurance Véhicule</div>
                                    <div class="bill-details">Police #ASS-2024-001</div>
                                    <div class="bill-due">En retard depuis: 5 jours</div>
                                </div>
                                <div class="bill-amount">
                                    <div class="amount">120,000 Fcfa</div>
                                    <div class="status overdue">En retard</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page Épargne -->
            <div class="page savings-page" id="savings-page">
                <div class="page-header">
                    <button class="back-button" onclick="switchTab('home')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>Épargne Professionnelle</h2>
                </div>

                <div class="content">
                    <div class="savings-overview">
                        <div class="savings-card">
                            <div class="savings-header">
                                <div class="savings-icon">
                                    <i class="fas fa-piggy-bank"></i>
                                </div>
                                <div class="savings-info">
                                    <div class="savings-title">Épargne Totale</div>
                                    <div class="savings-amount">1,250,000 Fcfa</div>
                                </div>
                            </div>
                            <div class="savings-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 62.5%"></div>
                                </div>
                                <div class="progress-text">Objectif: 2,000,000 Fcfa</div>
                            </div>
                        </div>
                    </div>

                    <div class="savings-products">
                        <div class="section-title">Produits d'épargne</div>
                        
                        <div class="product-card" onclick="openSavingsDetails('depot-terme')">
                            <div class="product-icon">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                            <div class="product-info">
                                <div class="product-title">Dépôt à Terme</div>
                                <div class="product-rate">Taux: 6.5% / an</div>
                                <div class="product-description">Durée minimale: 6 mois</div>
                            </div>
                            <div class="product-arrow">
                                <i class="fas fa-chevron-right"></i>
                            </div>
                        </div>

                        <div class="product-card" onclick="openSavingsDetails('plan-epargne')">
                            <div class="product-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="product-info">
                                <div class="product-title">Plan Épargne Entreprise</div>
                                <div class="product-rate">Taux: 5.8% / an</div>
                                <div class="product-description">Versements mensuels</div>
                            </div>
                            <div class="product-arrow">
                                <i class="fas fa-chevron-right"></i>
                            </div>
                        </div>

                        <div class="product-card" onclick="openSavingsDetails('livret-pro')">
                            <div class="product-icon">
                                <i class="fas fa-book"></i>
                            </div>
                            <div class="product-info">
                                <div class="product-title">Livret Professionnel</div>
                                <div class="product-rate">Taux: 4.2% / an</div>
                                <div class="product-description">Disponible à tout moment</div>
                            </div>
                            <div class="product-arrow">
                                <i class="fas fa-chevron-right"></i>
                            </div>
                        </div>
                    </div>

                    <div class="current-savings">
                        <div class="section-title">Mes épargnes actuelles</div>
                        
                        <div class="savings-item">
                            <div class="savings-type">
                                <div class="type-icon">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                                <div class="type-info">
                                    <div class="type-name">Dépôt à Terme #001</div>
                                    <div class="type-details">Échéance: 15/08/2024</div>
                                </div>
                            </div>
                            <div class="savings-balance">
                                <div class="balance-amount">850,000 Fcfa</div>
                                <div class="balance-interest">+32,500 Fcfa d'intérêts</div>
                            </div>
                        </div>

                        <div class="savings-item">
                            <div class="savings-type">
                                <div class="type-icon">
                                    <i class="fas fa-book"></i>
                                </div>
                                <div class="type-info">
                                    <div class="type-name">Livret Professionnel</div>
                                    <div class="type-details">Ouvert le: 12/01/2024</div>
                                </div>
                            </div>
                            <div class="savings-balance">
                                <div class="balance-amount">400,000 Fcfa</div>
                                <div class="balance-interest">+8,400 Fcfa d'intérêts</div>
                            </div>
                        </div>
                    </div>

                    <div class="savings-actions">
                        <button class="action-button primary" onclick="openNewSavingsModal()">
                            <i class="fas fa-plus"></i>
                            Nouvelle épargne
                        </button>
                        <button class="action-button secondary" onclick="viewSavingsHistory()">
                            <i class="fas fa-history"></i>
                            Historique
                        </button>
                    </div>
                </div>
            </div>

            <!-- Page Prêts -->
            <div class="page loans-page" id="loans-page">
                <div class="page-header">
                    <button class="back-button" onclick="switchTab('home')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>Prêts Professionnels</h2>
                </div>

                <div class="content">
                    <div class="loan-eligibility">
                        <div class="eligibility-card">
                            <div class="eligibility-badge">
                                <i class="fas fa-medal"></i>
                                <span class="badge-text">PRIVILÈGE PRO</span>
                            </div>
                            <div class="eligibility-content">
                                <div class="eligibility-header">
                                    <h4 class="eligibility-title">Prêts Professionnels Disponibles</h4>
                                    <div class="eligibility-status">
                                        <i class="fas fa-check-circle"></i>
                                        <span>Éligible</span>
                                    </div>
                                </div>
                                <div class="eligibility-details">
                                    <div class="amount-highlight">
                                        <span class="amount-label">Montant maximum</span>
                                        <span class="amount-value">5,000,000 <span class="currency">FCFA</span></span>
                                    </div>
                                    <div class="eligibility-features">
                                        <div class="feature-item">
                                            <i class="fas fa-clock"></i>
                                            <span>Approbation rapide</span>
                                        </div>
                                        <div class="feature-item">
                                            <i class="fas fa-percent"></i>
                                            <span>Taux préférentiels</span>
                                        </div>
                                        <div class="feature-item">
                                            <i class="fas fa-calendar-alt"></i>
                                            <span>Remboursement flexible</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="loan-products">
                        <div class="section-title">Types de prêts disponibles</div>
                        
                        <div class="loan-card" onclick="openLoanApplication('equipement')">
                            <div class="loan-icon">
                                <i class="fas fa-tools"></i>
                            </div>
                            <div class="loan-info">
                                <div class="loan-title">Prêt Équipement</div>
                                <div class="loan-rate">Taux: 8.5% / an</div>
                                <div class="loan-duration">Durée: 12 à 60 mois</div>
                            </div>
                            <div class="loan-amount">
                                <div class="max-amount">Max: 3M Fcfa</div>
                            </div>
                            <div class="loan-arrow">
                                <i class="fas fa-chevron-right"></i>
                            </div>
                        </div>

                        <div class="loan-card" onclick="openLoanApplication('tresorerie')">
                            <div class="loan-icon">
                                <i class="fas fa-coins"></i>
                            </div>
                            <div class="loan-info">
                                <div class="loan-title">Crédit de Trésorerie</div>
                                <div class="loan-rate">Taux: 7.8% / an</div>
                                <div class="loan-duration">Durée: 6 à 24 mois</div>
                            </div>
                            <div class="loan-amount">
                                <div class="max-amount">Max: 2M Fcfa</div>
                            </div>
                            <div class="loan-arrow">
                                <i class="fas fa-chevron-right"></i>
                            </div>
                        </div>

                        <div class="loan-card" onclick="openLoanApplication('immobilier')">
                            <div class="loan-icon">
                                <i class="fas fa-building"></i>
                            </div>
                            <div class="loan-info">
                                <div class="loan-title">Prêt Immobilier Pro</div>
                                <div class="loan-rate">Taux: 9.2% / an</div>
                                <div class="loan-duration">Durée: 60 à 240 mois</div>
                            </div>
                            <div class="loan-amount">
                                <div class="max-amount">Max: 10M Fcfa</div>
                            </div>
                            <div class="loan-arrow">
                                <i class="fas fa-chevron-right"></i>
                            </div>
                        </div>
                    </div>

                    <div class="current-loans">
                        <div class="section-header-enhanced">
                            <div class="section-icon">
                                <i class="fas fa-file-contract"></i>
                            </div>
                            <div class="section-info">
                                <h3 class="section-title">Mes Prêts en Cours</h3>
                                <p class="section-subtitle">Suivi de vos demandes de financement</p>
                            </div>
                            <div class="loans-count">
                                <span class="count-number">1</span>
                                <span class="count-label">Actif</span>
                            </div>
                        </div>
                        
                        <div class="loan-status-card-modern">
                            <div class="loan-status-header">
                                <div class="loan-badge">
                                    <i class="fas fa-tools"></i>
                                    <span>ÉQUIPEMENT</span>
                                </div>
                                <div class="loan-reference">#PRO-2024-001</div>
                            </div>
                            
                            <div class="loan-details">
                                <div class="detail-item">
                                    <span class="label">Montant demandé</span>
                                    <span class="value">2,500,000 FCFA</span>
                                </div>
                                <div class="detail-item">
                                    <span class="label">Durée</span>
                                    <span class="value">48 mois</span>
                                </div>
                                <div class="detail-item">
                                    <span class="label">Taux</span>
                                    <span class="value">9.2% / an</span>
                                </div>
                            </div>
                            
                            <div class="loan-progress-modern">
                                <div class="progress-header">
                                    <span class="progress-title">Statut de la demande</span>
                                    <span class="progress-percentage">50%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 50%"></div>
                                </div>
                                <div class="progress-steps">
                                    <div class="step completed">
                                        <div class="step-icon"><i class="fas fa-check"></i></div>
                                        <span>Demande</span>
                                    </div>
                                    <div class="step active">
                                        <div class="step-icon"><i class="fas fa-search"></i></div>
                                        <span>Étude</span>
                                    </div>
                                    <div class="step pending">
                                        <div class="step-icon"><i class="fas fa-thumbs-up"></i></div>
                                        <span>Validation</span>
                                    </div>
                                    <div class="step pending">
                                        <div class="step-icon"><i class="fas fa-money-bill-wave"></i></div>
                                        <span>Déblocage</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="loan-actions">
                                <button class="action-btn primary">
                                    <i class="fas fa-eye"></i>
                                    Suivre le dossier
                                </button>
                                <button class="action-btn secondary">
                                    <i class="fas fa-phone"></i>
                                    Contacter
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="loan-simulator-modern">
                        <div class="section-header-enhanced">
                            <div class="section-icon simulator">
                                <i class="fas fa-calculator"></i>
                            </div>
                            <div class="section-info">
                                <h3 class="section-title">Simulateur de Prêt</h3>
                                <p class="section-subtitle">Estimez votre capacité de financement</p>
                            </div>
                            <div class="simulator-status">
                                <i class="fas fa-bolt"></i>
                                <span>Temps réel</span>
                            </div>
                        </div>
                        
                        <div class="simulator-card-modern">
                            <div class="simulator-inputs-compact">
                                <div class="labels-row-compact">
                                    <div class="label-item">
                                        <label class="input-label">
                                            <i class="fas fa-coins"></i>
                                            Montant souhaité
                                        </label>
                                        <span class="input-range-inline">Min: 100K - Max: 10M</span>
                                    </div>
                                    <div class="label-item">
                                        <label class="input-label">
                                            <i class="fas fa-calendar-alt"></i>
                                            Durée de remboursement
                                        </label>
                                        <span class="input-range-inline">Min: 12 - Max: 240 mois</span>
                                    </div>
                                </div>
                                <div class="inputs-row">
                                    <div class="input-wrapper">
                                        <input type="number" placeholder="1,000,000" id="loan-amount" oninput="calculateLoan()">
                                        <span class="input-suffix">FCFA</span>
                                    </div>
                                    <div class="input-wrapper">
                                        <input type="number" placeholder="36" id="loan-duration" oninput="calculateLoan()">
                                        <span class="input-suffix">Mois</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="calculation-result">
                                <div class="result-header">
                                    <i class="fas fa-chart-line"></i>
                                    <span>Estimation mensuelle</span>
                                </div>
                                <div class="result-amount" id="monthly-payment">-- FCFA</div>
                                <div class="result-details">
                                    <div class="detail">
                                        <span>Taux appliqué</span>
                                        <span>9.2% / an</span>
                                    </div>
                                    <div class="detail">
                                        <span>Coût total</span>
                                        <span id="total-cost">-- FCFA</span>
                                    </div>
                                </div>
                                <button class="simulate-btn" onclick="openLoanApplication('simulation')">
                                    <i class="fas fa-paper-plane"></i>
                                    Faire une demande
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page Rapports -->
            <div class="page reports-page" id="reports-page">
                <div class="page-header">
                    <button class="back-button" onclick="switchTab('professional')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>Analytics & Rapports</h2>
                </div>

                <div class="content">
                    <!-- Dashboard moderne -->
                    <div class="analytics-dashboard">
                        <div class="dashboard-header">
                            <div class="period-selector">
                                <button class="period-btn active" data-period="7d">7J</button>
                                <button class="period-btn" data-period="30d">30J</button>
                                <button class="period-btn" data-period="90d">3M</button>
                                <button class="period-btn" data-period="1y">1A</button>
                            </div>
                            <div class="refresh-btn" onclick="refreshChart()">
                                <i class="fas fa-sync-alt"></i>
                            </div>
                        </div>

                        <!-- Métriques principales -->
                        <div class="metrics-grid">
                            <div class="metric-card revenue">
                                <div class="metric-header">
                                    <div class="metric-icon">
                                        <i class="fas fa-arrow-trend-up"></i>
                                    </div>
                                    <div class="metric-change positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>+15.2%</span>
                                    </div>
                                </div>
                                <div class="metric-value">2,847,500</div>
                                <div class="metric-label">Revenus ce mois</div>
                                <div class="metric-sublabel">FCFA</div>
                            </div>

                            <div class="metric-card expenses">
                                <div class="metric-header">
                                    <div class="metric-icon">
                                        <i class="fas fa-arrow-trend-down"></i>
                                    </div>
                                    <div class="metric-change negative">
                                        <i class="fas fa-arrow-down"></i>
                                        <span>-8.5%</span>
                                    </div>
                                </div>
                                <div class="metric-value">1,652,300</div>
                                <div class="metric-label">Dépenses ce mois</div>
                                <div class="metric-sublabel">FCFA</div>
                            </div>

                            <div class="metric-card profit">
                                <div class="metric-header">
                                    <div class="metric-icon">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                    <div class="metric-change positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>+28.7%</span>
                                    </div>
                                </div>
                                <div class="metric-value">1,195,200</div>
                                <div class="metric-label">Bénéfices nets</div>
                                <div class="metric-sublabel">FCFA</div>
                            </div>

                            <div class="metric-card growth">
                                <div class="metric-header">
                                    <div class="metric-icon">
                                        <i class="fas fa-percentage"></i>
                                    </div>
                                    <div class="metric-change positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>+12.3%</span>
                                    </div>
                                </div>
                                <div class="metric-value">42.1</div>
                                <div class="metric-label">Marge bénéficiaire</div>
                                <div class="metric-sublabel">%</div>
                            </div>
                        </div>

                        <!-- Graphique principal -->
                        <div class="chart-container-modern">
                            <div class="chart-header">
                                <h3>Évolution financière</h3>
                                <div class="chart-controls">
                                    <div class="chart-legend">
                                        <div class="legend-item">
                                            <div class="legend-color revenue"></div>
                                            <span>Revenus</span>
                                        </div>
                                        <div class="legend-item">
                                            <div class="legend-color expenses"></div>
                                            <span>Dépenses</span>
                                        </div>
                                        <div class="legend-item">
                                            <div class="legend-color profit"></div>
                                            <span>Bénéfices</span>
                                        </div>
                                    </div>
                                    <div class="chart-options">
                                        <button class="chart-type-btn active" data-type="line">
                                            <i class="fas fa-chart-line"></i>
                                        </button>
                                        <button class="chart-type-btn" data-type="bar">
                                            <i class="fas fa-chart-bar"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="chart-canvas">
                                <canvas id="financialChart" width="400" height="200" style="display: none;"></canvas>
                                
                                <div id="dynamicChart" style="background: rgba(255,255,255,0.02); border-radius: 8px; padding: 20px; margin: 15px 0; border: 1px solid rgba(255,255,255,0.08);">
                                    <div style="display: flex; align-items: end; justify-content: space-around; height: 120px; padding: 10px 20px 40px 40px; position: relative;">
                                        <!-- Axe Y (vertical) -->
                                        <div style="position: absolute; left: 5px; top: 10px; height: 120px; display: flex; flex-direction: column; justify-content: space-between; padding: 0;">
                                            <span style="color: rgba(255,255,255,0.7); font-size: 10px; font-weight: 500;">400K</span>
                                            <span style="color: rgba(255,255,255,0.7); font-size: 10px; font-weight: 500;">300K</span>
                                            <span style="color: rgba(255,255,255,0.7); font-size: 10px; font-weight: 500;">200K</span>
                                            <span style="color: rgba(255,255,255,0.7); font-size: 10px; font-weight: 500;">100K</span>
                                            <span style="color: rgba(255,255,255,0.7); font-size: 10px; font-weight: 500;">0</span>
                                        </div>
                                        
                                        <!-- Ligne de l'axe Y -->
                                        <div style="position: absolute; left: 35px; top: 10px; bottom: 40px; width: 1px; background: rgba(255,255,255,0.3);"></div>
                                        
                                        <!-- Grille horizontale -->
                                        <div style="position: absolute; top: 10px; left: 35px; right: 10px; bottom: 40px; pointer-events: none;">
                                            <div style="height: 25%; border-top: 1px solid rgba(255,255,255,0.1);"></div>
                                            <div style="height: 25%; border-top: 1px solid rgba(255,255,255,0.1);"></div>
                                            <div style="height: 25%; border-top: 1px solid rgba(255,255,255,0.1);"></div>
                                            <div style="height: 25%; border-top: 1px solid rgba(255,255,255,0.1);"></div>
                                        </div>

                                        <!-- Juillet - 3 barres -->
                                        <div class="chart-bar-group" style="display: flex; flex-direction: column; align-items: center;">
                                            <div style="display: flex; gap: 3px; align-items: flex-end; height: 90px;">
                                                <!-- Revenus Juillet -->
                                                <div class="bar-container" style="height: 90px; position: relative; width: 12px; display: flex; align-items: flex-end;">
                                                    <div class="dynamic-bar" style="width: 100%; background: linear-gradient(180deg, #10b981 0%, #059669 100%); border-radius: 4px; box-shadow: 0 2px 8px rgba(16, 185, 129, 0.4); height: 0%; animation: growBarUp 1.2s ease-out forwards; animation-delay: 0.1s;" data-height="80"></div>
                                                </div>
                                                <!-- Dépenses Juillet -->
                                                <div class="bar-container" style="height: 90px; position: relative; width: 12px; display: flex; align-items: flex-end;">
                                                    <div class="dynamic-bar" style="width: 100%; background: linear-gradient(180deg, #ef4444 0%, #dc2626 100%); border-radius: 4px; box-shadow: 0 2px 8px rgba(239, 68, 68, 0.4); height: 0%; animation: growBarUp 1.2s ease-out forwards; animation-delay: 0.2s;" data-height="50"></div>
                                                </div>
                                                <!-- Bénéfices Juillet -->
                                                <div class="bar-container" style="height: 90px; position: relative; width: 12px; display: flex; align-items: flex-end;">
                                                    <div class="dynamic-bar" style="width: 100%; background: linear-gradient(180deg, #8b5cf6 0%, #7c3aed 100%); border-radius: 4px; box-shadow: 0 2px 8px rgba(139, 92, 246, 0.4); height: 0%; animation: growBarUp 1.2s ease-out forwards; animation-delay: 0.3s;" data-height="30"></div>
                                                </div>
                                            </div>
                                            <span style="color: #fff; font-size: 11px; margin-top: 8px; font-weight: 500;">Juillet</span>
                                            <div style="display: flex; gap: 3px; margin-top: 3px;">
                                                <span style="color: #10b981; font-size: 7px; padding: 1px 2px; border-radius: 2px; background: rgba(16, 185, 129, 0.15); opacity: 0; animation: fadeIn 0.4s ease-out forwards; animation-delay: 1.4s;">320K</span>
                                                <span style="color: #ef4444; font-size: 7px; padding: 1px 2px; border-radius: 2px; background: rgba(239, 68, 68, 0.15); opacity: 0; animation: fadeIn 0.4s ease-out forwards; animation-delay: 1.5s;">200K</span>
                                                <span style="color: #8b5cf6; font-size: 7px; padding: 1px 2px; border-radius: 2px; background: rgba(139, 92, 246, 0.15); opacity: 0; animation: fadeIn 0.4s ease-out forwards; animation-delay: 1.6s;">120K</span>
                                            </div>
                                        </div>

                                        <!-- Août - 3 barres -->
                                        <div class="chart-bar-group" style="display: flex; flex-direction: column; align-items: center;">
                                            <div style="display: flex; gap: 3px; align-items: flex-end; height: 90px;">
                                                <!-- Revenus Août -->
                                                <div class="bar-container" style="height: 90px; position: relative; width: 12px; display: flex; align-items: flex-end;">
                                                    <div class="dynamic-bar" style="width: 100%; background: linear-gradient(180deg, #10b981 0%, #059669 100%); border-radius: 4px; box-shadow: 0 2px 8px rgba(16, 185, 129, 0.4); height: 0%; animation: growBarUp 1.2s ease-out forwards; animation-delay: 0.4s;" data-height="70"></div>
                                                </div>
                                                <!-- Dépenses Août -->
                                                <div class="bar-container" style="height: 90px; position: relative; width: 12px; display: flex; align-items: flex-end;">
                                                    <div class="dynamic-bar" style="width: 100%; background: linear-gradient(180deg, #ef4444 0%, #dc2626 100%); border-radius: 4px; box-shadow: 0 2px 8px rgba(239, 68, 68, 0.4); height: 0%; animation: growBarUp 1.2s ease-out forwards; animation-delay: 0.5s;" data-height="62"></div>
                                                </div>
                                                <!-- Bénéfices Août -->
                                                <div class="bar-container" style="height: 90px; position: relative; width: 12px; display: flex; align-items: flex-end;">
                                                    <div class="dynamic-bar" style="width: 100%; background: linear-gradient(180deg, #8b5cf6 0%, #7c3aed 100%); border-radius: 4px; box-shadow: 0 2px 8px rgba(139, 92, 246, 0.4); height: 0%; animation: growBarUp 1.2s ease-out forwards; animation-delay: 0.6s;" data-height="25"></div>
                                                </div>
                                            </div>
                                            <span style="color: #fff; font-size: 11px; margin-top: 8px; font-weight: 500;">Août</span>
                                            <div style="display: flex; gap: 3px; margin-top: 3px;">
                                                <span style="color: #10b981; font-size: 7px; padding: 1px 2px; border-radius: 2px; background: rgba(16, 185, 129, 0.15); opacity: 0; animation: fadeIn 0.4s ease-out forwards; animation-delay: 1.7s;">280K</span>
                                                <span style="color: #ef4444; font-size: 7px; padding: 1px 2px; border-radius: 2px; background: rgba(239, 68, 68, 0.15); opacity: 0; animation: fadeIn 0.4s ease-out forwards; animation-delay: 1.8s;">250K</span>
                                                <span style="color: #8b5cf6; font-size: 7px; padding: 1px 2px; border-radius: 2px; background: rgba(139, 92, 246, 0.15); opacity: 0; animation: fadeIn 0.4s ease-out forwards; animation-delay: 1.9s;">100K</span>
                                            </div>
                                        </div>

                                        <!-- Septembre - 3 barres -->
                                        <div class="chart-bar-group" style="display: flex; flex-direction: column; align-items: center;">
                                            <div style="display: flex; gap: 3px; align-items: flex-end; height: 90px;">
                                                <!-- Revenus Septembre -->
                                                <div class="bar-container" style="height: 90px; position: relative; width: 12px; display: flex; align-items: flex-end;">
                                                    <div class="dynamic-bar" style="width: 100%; background: linear-gradient(180deg, #10b981 0%, #059669 100%); border-radius: 4px; box-shadow: 0 2px 8px rgba(16, 185, 129, 0.4); height: 0%; animation: growBarUp 1.2s ease-out forwards; animation-delay: 0.7s;" data-height="60"></div>
                                                </div>
                                                <!-- Dépenses Septembre -->
                                                <div class="bar-container" style="height: 90px; position: relative; width: 12px; display: flex; align-items: flex-end;">
                                                    <div class="dynamic-bar" style="width: 100%; background: linear-gradient(180deg, #ef4444 0%, #dc2626 100%); border-radius: 4px; box-shadow: 0 2px 8px rgba(239, 68, 68, 0.4); height: 0%; animation: growBarUp 1.2s ease-out forwards; animation-delay: 0.8s;" data-height="45"></div>
                                                </div>
                                                <!-- Bénéfices Septembre -->
                                                <div class="bar-container" style="height: 90px; position: relative; width: 12px; display: flex; align-items: flex-end;">
                                                    <div class="dynamic-bar" style="width: 100%; background: linear-gradient(180deg, #8b5cf6 0%, #7c3aed 100%); border-radius: 4px; box-shadow: 0 2px 8px rgba(139, 92, 246, 0.4); height: 0%; animation: growBarUp 1.2s ease-out forwards; animation-delay: 0.9s;" data-height="37"></div>
                                                </div>
                                            </div>
                                            <span style="color: #fff; font-size: 11px; margin-top: 8px; font-weight: 500;">Septembre</span>
                                            <div style="display: flex; gap: 3px; margin-top: 3px;">
                                                <span style="color: #10b981; font-size: 7px; padding: 1px 2px; border-radius: 2px; background: rgba(16, 185, 129, 0.15); opacity: 0; animation: fadeIn 0.4s ease-out forwards; animation-delay: 2.0s;">240K</span>
                                                <span style="color: #ef4444; font-size: 7px; padding: 1px 2px; border-radius: 2px; background: rgba(239, 68, 68, 0.15); opacity: 0; animation: fadeIn 0.4s ease-out forwards; animation-delay: 2.1s;">180K</span>
                                                <span style="color: #8b5cf6; font-size: 7px; padding: 1px 2px; border-radius: 2px; background: rgba(139, 92, 246, 0.15); opacity: 0; animation: fadeIn 0.4s ease-out forwards; animation-delay: 2.2s;">150K</span>
                                            </div>
                                        </div>
                                        
                                        <!-- Ligne de l'axe X -->
                                        <div style="position: absolute; bottom: 40px; left: 35px; right: 10px; height: 1px; background: rgba(255,255,255,0.3);"></div>
                                    </div>
                                    
                                    <!-- Axe X (horizontal) - Labels des mois -->
                                    <div style="display: flex; justify-content: center; gap: 80px; margin-top: -30px; padding: 0 40px;">
                                        <span style="color: rgba(255,255,255,0.6); font-size: 10px; font-weight: 500;">Q3 2024</span>
                                    </div>
                                </div>

                                <style>
                                    @keyframes growBarUp {
                                        from {
                                            height: 0%;
                                        }
                                        to {
                                            height: var(--target-height, 100%);
                                        }
                                    }
                                    
                                    @keyframes fadeIn {
                                        from { opacity: 0; transform: translateY(8px); }
                                        to { opacity: 1; transform: translateY(0); }
                                    }
                                    
                                    .dynamic-bar[data-height="80"] {
                                        --target-height: 80%;
                                    }
                                    
                                    .dynamic-bar[data-height="70"] {
                                        --target-height: 70%;
                                    }
                                    
                                    .dynamic-bar[data-height="62"] {
                                        --target-height: 62%;
                                    }
                                    
                                    .dynamic-bar[data-height="60"] {
                                        --target-height: 60%;
                                    }
                                    
                                    .dynamic-bar[data-height="50"] {
                                        --target-height: 50%;
                                    }
                                    
                                    .dynamic-bar[data-height="45"] {
                                        --target-height: 45%;
                                    }
                                    
                                    .dynamic-bar[data-height="37"] {
                                        --target-height: 37%;
                                    }
                                    
                                    .dynamic-bar[data-height="30"] {
                                        --target-height: 30%;
                                    }
                                    
                                    .dynamic-bar[data-height="25"] {
                                        --target-height: 25%;
                                    }
                                    
                                    .chart-bar:hover .dynamic-bar {
                                        transform: scaleY(1.1) scaleX(1.5);
                                        filter: brightness(1.3);
                                        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
                                    }
                                    
                                    .chart-bar:hover span {
                                        transform: translateY(-1px);
                                        transition: all 0.2s ease;
                                    }
                                </style>
                            </div>
                        </div>

                        <!-- Aperçu des transactions récentes -->
                        <div class="recent-transactions">
                            <div class="section-header">
                                <h4>Transactions récentes</h4>
                                <button class="view-all-btn">Voir tout</button>
                            </div>
                            <div class="transactions-list">
                                <div class="transaction-item">
                                    <div class="transaction-icon positive">
                                        <i class="fas fa-arrow-down"></i>
                                    </div>
                                    <div class="transaction-details">
                                        <div class="transaction-title">Paiement client - ABC Corp</div>
                                        <div class="transaction-date">Aujourd'hui, 14:30</div>
                                    </div>
                                    <div class="transaction-amount positive">+850,000 FCFA</div>
                                </div>
                                <div class="transaction-item">
                                    <div class="transaction-icon negative">
                                        <i class="fas fa-arrow-up"></i>
                                    </div>
                                    <div class="transaction-details">
                                        <div class="transaction-title">Salaires équipe</div>
                                        <div class="transaction-date">Hier, 09:15</div>
                                    </div>
                                    <div class="transaction-amount negative">-320,000 FCFA</div>
                                </div>
                                <div class="transaction-item">
                                    <div class="transaction-icon positive">
                                        <i class="fas fa-arrow-down"></i>
                                    </div>
                                    <div class="transaction-details">
                                        <div class="transaction-title">Vente produits - Commande #1247</div>
                                        <div class="transaction-date">Hier, 16:45</div>
                                    </div>
                                    <div class="transaction-amount positive">+425,500 FCFA</div>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>

            <!-- Page Compte Professionnel -->
            <div class="page professional-page" id="professional-page">
                <div class="page-header">
                    <button class="back-button" onclick="switchTab('home')">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <h2>Compte Professionnel</h2>
                </div>
                
                <div class="professional-header">
                    <div class="professional-badge">
                        COMPTE PROFESSIONNEL
                    </div>
                    <h1 class="professional-title">Entreprise BATOLA SARL</h1>
                    <p class="professional-subtitle">Solde professionnel: 2,450,800 Fcfa</p>
                </div>

                <div class="professional-stats">
                    <div class="stat-card">
                        <div class="stat-value">24</div>
                        <div class="stat-label">Partenaires</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">156</div>
                        <div class="stat-label">Virements/mois</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">4.2M Fcfa</div>
                        <div class="stat-label">Volume mensuel</div>
                    </div>
                </div>

                <div class="professional-actions">
                    <div class="action-card" onclick="switchTab('bulk-transfer')">
                        <div class="action-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="action-title">Virement de masse</div>
                        <div class="action-description">Payer plusieurs partenaires</div>
                    </div>
                    <div class="action-card" onclick="switchTab('partner-management')">
                        <div class="action-icon">
                            <i class="fas fa-address-book"></i>
                        </div>
                        <div class="action-title">Gérer partenaires</div>
                        <div class="action-description">Ajouter/modifier</div>
                    </div>
                    <div class="action-card" onclick="switchTab('reports')">
                        <div class="action-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <div class="action-title">Rapports</div>
                        <div class="action-description">Analytiques détaillés</div>
                    </div>
                    <div class="action-card" onclick="switchTab('bills')">
                        <div class="action-icon">
                            <i class="fas fa-file-invoice"></i>
                        </div>
                        <div class="action-title">Factures</div>
                        <div class="action-description">Gestion des factures</div>
                    </div>
                </div>

                <div class="partners-section">
                    <div class="section-header">
                        <h3 class="section-title">Partenaires récents</h3>
                        <button class="add-button" onclick="openAddPartnerModal()">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    
                    <div class="partners-list" id="partners-list">
                        <!-- Les partenaires seront générés dynamiquement -->
                    </div>
                </div>
            </div>

            <!-- Page Virement -->
            <div class="page transfer-page" id="transfer-page">
                <div class="page-header">
                    <button class="back-button" onclick="switchTab('home')">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <h2>Effectuer un virement</h2>
                </div>
                
                <div class="transfer-container">
                    <div class="transfer-form">
                        <div class="form-group">
                            <label class="form-label">Bénéficiaire</label>
                            <select class="form-select" id="transfer-beneficiary">
                                <option value="">Sélectionner un bénéficiaire</option>
                                <option value="new">Nouveau bénéficiaire</option>
                                <option value="1">SARL MBOUMBA</option>
                                <option value="2">Marie KOUGNA</option>
                                <option value="3">SOGEA SATOM</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Numéro de compte</label>
                            <input type="text" class="form-input" id="transfer-account" placeholder="Numéro de compte du bénéficiaire">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Banque</label>
                            <select class="form-select" id="transfer-bank">
                                <option value="">Sélectionner une banque</option>
                                <option value="kbank">K-Bank</option>
                                <option value="bicec">BICEC</option>
                                <option value="bgfi">BGFI</option>
                                <option value="uba">UBA</option>
                                <option value="other">Autre</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Montant</label>
                            <div class="amount-input">
                                <span class="currency-symbol">Fcfa</span>
                                <input type="number" class="form-input" id="transfer-amount" placeholder="0,00">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Motif (optionnel)</label>
                            <input type="text" class="form-input" id="transfer-reason" placeholder="Raison du virement">
                        </div>
                        
                        <button class="transfer-button" onclick="confirmTransfer()">
                            <i class="fas fa-paper-plane"></i> Effectuer le virement
                        </button>
                    </div>
                </div>
            </div>

            <!-- Page Cartes -->
            <div class="page cards-page" id="cards-page">
                <div class="page-header">
                    <button class="back-button" onclick="switchTab('home')">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <h2>Mes Cartes</h2>
                </div>
                
                <div class="cards-container">
                    <!-- Carte principale moderne -->
                    <div class="modern-card-container">
                        <div class="modern-card" id="main-card">
                            <div class="modern-card-face modern-card-front">
                                <div class="bank-name-left">K-BANK</div>
                                <div class="logo-puce">
                                    <img src="assets/chip.svg" alt="Chip" class="chip-image">
                                    <div class="bank-logo">VISA</div>
                                </div>
                                <div class="modern-card-number">•••• •••• •••• 4512</div>
                                <div class="card-bottom-info">
                                    <div class="card-holder-info">
                                        <div class="label">Titulaire</div>
                                        <div class="card-holder-name">GODWIN BATOLA</div>
                                    </div>
                                    <div class="card-expiry-info">
                                        <div class="label">Expire fin</div>
                                        <div class="card-expiry-date">09/25</div>
                                    </div>
                                    <div class="card-cvc-info">
                                        <div class="label">CVC</div>
                                        <div class="card-cvc">•••</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card-actions">
                        <div class="card-action" onclick="blockCard()">
                            <i class="fas fa-lock"></i>
                            <span>Bloquer</span>
                        </div>
                        <div class="card-action" onclick="showToast('Fonctionnalité à venir')">
                            <i class="fas fa-sliders-h"></i>
                            <span>Paramètres</span>
                        </div>
                        <div class="card-action" onclick="freezeCard()">
                            <i class="fas fa-snowflake"></i>
                            <span>Geler</span>
                        </div>
                    </div>
                    
                    <div class="section-title">Dernières transactions</div>
                    
                    <div class="transaction-list">
                        <div class="transaction-item">
                            <div class="transaction-icon expense">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                            <div class="transaction-info">
                                <div class="transaction-title">Amazon</div>
                                <div class="transaction-details">Achat en ligne</div>
                            </div>
                            <div class="transaction-amount" style="color: var(--danger-color);">-125,000 Fcfa</div>
                        </div>
                        
                        <div class="transaction-item">
                            <div class="transaction-icon expense">
                                <i class="fas fa-gas-pump"></i>
                            </div>
                            <div class="transaction-info">
                                <div class="transaction-title">Station Shell</div>
                                <div class="transaction-details">Carburant</div>
                            </div>
                            <div class="transaction-amount" style="color: var(--danger-color);">-45,000 Fcfa</div>
                        </div>
                        
                        <div class="transaction-item">
                            <div class="transaction-icon expense">
                                <i class="fas fa-utensils"></i>
                            </div>
                            <div class="transaction-info">
                                <div class="transaction-title">Restaurant</div>
                                <div class="transaction-details">Le Bistrot</div>
                            </div>
                            <div class="transaction-amount" style="color: var(--danger-color);">-32,500 Fcfa</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page Profil -->
            <div class="page profile-page" id="profile-page">
                <div class="page-header">
                    <button class="back-button" onclick="switchTab('home')">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <h2>Mon Profil</h2>
                </div>
                
                <div class="profile-container">
                    <div class="profile-header">
                        <div class="profile-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="profile-info">
                            <h3>Godwin BATOLA</h3>
                            <p>godwin.batola@gmail.com</p>
                            <p>+241 01 23 45 67</p>
                        </div>
                    </div>
                    
                    <div class="profile-menu">
                        <div class="menu-item" onclick="showToast('Fonctionnalité à venir')">
                            <i class="fas fa-user-edit"></i>
                            <span>Modifier le profil</span>
                        </div>
                        <div class="menu-item" onclick="showToast('Fonctionnalité à venir')">
                            <i class="fas fa-shield-alt"></i>
                            <span>Sécurité</span>
                        </div>
                        <div class="menu-item" onclick="showToast('Fonctionnalité à venir')">
                            <i class="fas fa-bell"></i>
                            <span>Notifications</span>
                        </div>
                        <div class="menu-item" onclick="showToast('Fonctionnalité à venir')">
                            <i class="fas fa-language"></i>
                            <span>Langue</span>
                        </div>
                        <div class="menu-item" onclick="showToast('Fonctionnalité à venir')">
                            <i class="fas fa-question-circle"></i>
                            <span>Aide & Support</span>
                        </div>
                        <div class="menu-item" onclick="showToast('Fonctionnalité à venir')">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Déconnexion</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page Notifications -->
            <div class="page notifications-page" id="notifications-page">
                <div class="page-header">
                    <button class="back-button" onclick="switchTab('home')">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <h2>Notifications</h2>
                </div>
                
                <div class="notifications-container">
                    <div class="notification-item">
                        <div class="notification-icon" style="background: rgba(16, 185, 129, 0.2); color: var(--success-color);">
                            <i class="fas fa-arrow-down"></i>
                        </div>
                        <div class="notification-info">
                            <div class="notification-title">Virement reçu</div>
                            <div class="notification-details">Vous avez reçu 450,000 Fcfa de BATOLA SARL</div>
                            <div class="notification-time">Il y a 2 heures</div>
                        </div>
                    </div>
                    
                    <div class="notification-item">
                        <div class="notification-icon" style="background: rgba(59, 130, 246, 0.2); color: var(--accent-color);">
                            <i class="fas fa-credit-card"></i>
                        </div>
                        <div class="notification-info">
                            <div class="notification-title">Paiement en ligne</div>
                            <div class="notification-details">Paiement de Fcfa 125,000 chez CKDO</div>
                            <div class="notification-time">Il y a 1 jour</div>
                        </div>
                    </div>
                    
                    <div class="notification-item">
                        <div class="notification-icon" style="background: rgba(245, 158, 11, 0.2); color: var(--warning-color);">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="notification-info">
                            <div class="notification-title">Alerte de sécurité</div>
                            <div class="notification-details">Connexion depuis un nouvel appareil</div>
                            <div class="notification-time">Il y a 2 jours</div>
                        </div>
                    </div>
                    
                    <div class="notification-item">
                        <div class="notification-icon" style="background: rgba(6, 182, 212, 0.2); color: var(--professional-color);">
                            <i class="fas fa-building"></i>
                        </div>
                        <div class="notification-info">
                            <div class="notification-title">Compte professionnel</div>
                            <div class="notification-details">Virement de masse programmé pour demain</div>
                            <div class="notification-time">Il y a 3 jours</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page Virement de Masse -->
            <div class="page bulk-transfer-page" id="bulk-transfer-page">
                <div class="page-header">
                    <button class="back-button" onclick="switchTab('professional')">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <h2>Virement de Masse</h2>
                </div>
                
                <div class="bulk-transfer-container">
                    <div class="upload-section">
                        <div class="upload-icon">
                            <i class="fas fa-file-upload"></i>
                        </div>
                        <h3>Importer fichier Excel</h3>
                        <p>Téléchargez le modèle et importez votre liste de virements</p>
                        <button class="primary-button" onclick="document.getElementById('file-input').click()">
                            <i class="fas fa-upload"></i> Choisir un fichier
                        </button>
                        <a href="#" class="template-download" onclick="downloadTemplate()">
                            <i class="fas fa-download"></i> Télécharger le modèle
                        </a>
                        <input type="file" id="file-input" accept=".xlsx,.xls,.csv" style="display: none;" onchange="handleFileUpload(this)">
                    </div>

                    <div class="recipients-list" id="recipients-list">
                        <div class="empty-state">
                            <i class="fas fa-users"></i>
                            <p>Aucun bénéficiaire importé</p>
                        </div>
                    </div>

                    <div class="summary-card" id="transfer-summary" style="display: none;">
                        <div class="summary-item">
                            <span>Nombre de bénéficiaires:</span>
                            <span id="recipients-count">0</span>
                        </div>
                        <div class="summary-item">
                            <span>Montant total:</span>
                            <span id="total-amount">Fcfa 0</span>
                        </div>
                        <div class="summary-item summary-total">
                            <span>Total à débiter:</span>
                            <span id="debit-amount">Fcfa 0</span>
                        </div>
                    </div>

                    <button class="primary-button" id="confirm-transfer" style="display: none;" onclick="confirmBulkTransfer()">
                        <i class="fas fa-paper-plane"></i> Exécuter les virements
                    </button>
                </div>
            </div>

            <!-- Page Gestion des Partenaires -->
            <div class="page partner-management-page" id="partner-management-page">
                <div class="page-header">
                    <button class="back-button" onclick="switchTab('professional')">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <h2>Gestion des Partenaires</h2>
                </div>
                
                <div class="partners-section">
                    <div class="section-header">
                        <h3 class="section-title">Tous les partenaires</h3>
                        <button class="add-button" onclick="openAddPartnerModal()">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    
                    <div class="partners-list" id="all-partners-list">
                        <!-- Tous les partenaires seront générés dynamiquement -->
                    </div>
                </div>
            </div>

            <!-- Modal d'ajout de partenaire -->
            <div class="modal-overlay" id="add-partner-modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Nouveau partenaire</h3>
                        <button class="modal-close" onclick="closeAddPartnerModal()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="input-group">
                        <label>Nom du partenaire</label>
                        <div class="input-field">
                            <input type="text" placeholder="Nom de l'entreprise ou personne" id="partner-name">
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label>Type de partenaire</label>
                        <div class="input-field">
                            <select id="partner-type">
                                <option value="supplier">Fournisseur</option>
                                <option value="employee">Employé</option>
                                <option value="client">Client</option>
                                <option value="partner">Partenaire commercial</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label>Numéro de compte</label>
                        <div class="input-field">
                            <input type="text" placeholder="Numéro de compte bancaire" id="partner-account">
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label>Banque</label>
                        <div class="input-field">
                            <input type="text" placeholder="Nom de la banque" id="partner-bank">
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label>Email (optionnel)</label>
                        <div class="input-field">
                            <input type="email" placeholder="email@exemple.com" id="partner-email">
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label>Téléphone (optionnel)</label>
                        <div class="input-field">
                            <input type="tel" placeholder="+241 XX XX XX XX" id="partner-phone">
                        </div>
                    </div>
                    
                    <button class="primary-button" onclick="addPartner()">
                        <i class="fas fa-check-circle"></i> Ajouter le partenaire
                    </button>
                </div>
            </div>
        </div>

        <!-- Modales de confirmation pour les cartes -->
        <div class="confirmation-modal" id="block-confirmation-modal">
            <div class="modal-content">
                <div class="modal-icon block">
                    <i class="fas fa-lock"></i>
                </div>
                <div class="modal-title" id="block-modal-title">Bloquer la carte ?</div>
                <div class="modal-message" id="block-modal-message">
                    Votre carte sera temporairement bloquée. Vous ne pourrez plus effectuer de transactions jusqu'à ce que vous la débloquez.
                </div>
                <div class="modal-actions">
                    <button class="modal-button cancel" onclick="closeBlockModal()">Annuler</button>
                    <button class="modal-button confirm" onclick="confirmBlockCard()">Bloquer</button>
                </div>
            </div>
        </div>

        <div class="confirmation-modal" id="freeze-confirmation-modal">
            <div class="modal-content">
                <div class="modal-icon freeze">
                    <i class="fas fa-snowflake"></i>
                </div>
                <div class="modal-title" id="freeze-modal-title">Geler la carte ?</div>
                <div class="modal-message" id="freeze-modal-message">
                    Votre carte sera temporairement gelée. Toutes les transactions (en ligne et physiques) seront bloquées jusqu'à ce que vous la dégèlez.
                </div>
                <div class="modal-actions">
                    <button class="modal-button cancel" onclick="closeFreezeModal()">Annuler</button>
                    <button class="modal-button confirm freeze" onclick="confirmFreezeCard()">Geler</button>
                </div>
            </div>
        </div>

        <!-- Modale de demande de prêt -->
        <div class="loan-application-modal" id="loan-application-modal">
            <div class="loan-modal-content">
                <div class="loan-modal-header">
                    <h3 class="loan-modal-title" id="loan-modal-title">Demande de Prêt Équipement</h3>
                    <button class="modal-close" onclick="closeLoanApplication()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="loan-modal-body">
                    <form id="loan-application-form">
                        <!-- Informations personnelles -->
                        <div class="form-section">
                            <h4 class="section-title">Informations personnelles</h4>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Nom complet *</label>
                                    <input type="text" id="applicant-name" value="Godwin BATOLA" required>
                                </div>
                                <div class="form-group">
                                    <label>Téléphone *</label>
                                    <input type="tel" id="applicant-phone" placeholder="+241 01 23 45 67" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Email *</label>
                                    <input type="email" id="applicant-email" value="godwin.batola@gmail.com" required>
                                </div>
                                <div class="form-group">
                                    <label>Entreprise *</label>
                                    <input type="text" id="company-name" value="BATOLA SARL" required>
                                </div>
                            </div>
                        </div>

                        <!-- Détails du prêt -->
                        <div class="form-section">
                            <h4 class="section-title">Détails du prêt</h4>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Montant demandé (Fcfa) *</label>
                                    <input type="number" id="loan-amount-request" placeholder="1000000" min="100000" required>
                                </div>
                                <div class="form-group">
                                    <label>Durée (mois) *</label>
                                    <select id="loan-duration-request" required>
                                        <option value="">Sélectionner</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Objet du prêt *</label>
                                <textarea id="loan-purpose" placeholder="Décrivez l'utilisation prévue des fonds..." rows="3" required></textarea>
                            </div>
                        </div>

                        <!-- Informations financières -->
                        <div class="form-section">
                            <h4 class="section-title">Informations financières</h4>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Chiffre d'affaires mensuel (Fcfa) *</label>
                                    <input type="number" id="monthly-revenue" placeholder="5000000" required>
                                </div>
                                <div class="form-group">
                                    <label>Charges mensuelles (Fcfa) *</label>
                                    <input type="number" id="monthly-expenses" placeholder="2000000" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Garanties proposées</label>
                                <select id="guarantees" multiple>
                                    <option value="immobilier">Bien immobilier</option>
                                    <option value="materiel">Matériel professionnel</option>
                                    <option value="caution">Caution bancaire</option>
                                    <option value="assurance">Assurance-vie</option>
                                </select>
                                <small>Maintenez Ctrl pour sélectionner plusieurs options</small>
                            </div>
                        </div>

                        <!-- Documents -->
                        <div class="form-section">
                            <h4 class="section-title">Documents requis</h4>
                            <div class="documents-list">
                                <div class="document-item">
                                    <i class="fas fa-file-pdf"></i>
                                    <span>Bilan comptable (2 dernières années)</span>
                                    <input type="file" accept=".pdf,.doc,.docx" multiple>
                                </div>
                                <div class="document-item">
                                    <i class="fas fa-file-alt"></i>
                                    <span>Relevés bancaires (3 derniers mois)</span>
                                    <input type="file" accept=".pdf,.doc,.docx" multiple>
                                </div>
                                <div class="document-item">
                                    <i class="fas fa-id-card"></i>
                                    <span>Pièce d'identité du dirigeant</span>
                                    <input type="file" accept=".pdf,.jpg,.png">
                                </div>
                                <div class="document-item">
                                    <i class="fas fa-building"></i>
                                    <span>Registre de commerce</span>
                                    <input type="file" accept=".pdf,.jpg,.png">
                                </div>
                            </div>
                        </div>

                        <!-- Résumé calculé -->
                        <div class="form-section">
                            <div class="loan-summary">
                                <h4 class="section-title">Résumé de votre demande</h4>
                                <div class="summary-grid">
                                    <div class="summary-item">
                                        <span class="summary-label">Mensualité estimée:</span>
                                        <span class="summary-value" id="estimated-payment">-- Fcfa</span>
                                    </div>
                                    <div class="summary-item">
                                        <span class="summary-label">Coût total:</span>
                                        <span class="summary-value" id="total-cost">-- Fcfa</span>
                                    </div>
                                    <div class="summary-item">
                                        <span class="summary-label">Taux d'intérêt:</span>
                                        <span class="summary-value" id="interest-rate">-- %</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn-secondary" onclick="closeLoanApplication()">
                                <i class="fas fa-times"></i> Annuler
                            </button>
                            <button type="submit" class="btn-primary">
                                <i class="fas fa-paper-plane"></i> Soumettre la demande
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="bottom-nav">
            <div class="nav-item active" onclick="switchTab('home')">
                <i class="fas fa-home"></i>
                <span>Accueil</span>
            </div>
            <div class="nav-item" onclick="switchTab('professional')">
                <i class="fas fa-building"></i>
                <span>Pro</span>
            </div>
            <div class="nav-item" onclick="switchTab('transfer')">
                <i class="fas fa-exchange-alt"></i>
                <span>Virements</span>
            </div>
            <div class="nav-item" onclick="switchTab('cards')">
                <i class="fas fa-credit-card"></i>
                <span>Cartes</span>
            </div>
        </div>
    </div>

    <script>
        // Gestion du thème
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('theme-icon');
            const currentTheme = body.getAttribute('data-theme');
            
            if (currentTheme === 'light') {
                body.setAttribute('data-theme', 'dark');
                themeIcon.className = 'fas fa-sun';
                localStorage.setItem('theme', 'dark');
            } else {
                body.setAttribute('data-theme', 'light');
                themeIcon.className = 'fas fa-moon';
                localStorage.setItem('theme', 'light');
            }
        }

        // Initialiser le thème au chargement
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme') || 'dark';
            const body = document.body;
            const themeIcon = document.getElementById('theme-icon');
            
            body.setAttribute('data-theme', savedTheme);
            if (savedTheme === 'light') {
                themeIcon.className = 'fas fa-moon';
            } else {
                themeIcon.className = 'fas fa-sun';
            }
        });

        // Données de l'application
        const appData = {
            user: {
                name: "Godwin BATOLA",
                email: "godwin.batola@gmail.com",
                phone: "+241 01 23 45 67",
                account: "GA21 3042 0001 2345 6789 0304",
                balance: 5240500,
                professionalBalance: 2450800
            },
            partners: [
                {
                    id: 1,
                    name: "SARL MBOUMBA",
                    type: "supplier",
                    account: "GA21 XXXX XXXX XXXX XXXXXXXX 123",
                    bank: "BICEC",
                    email: "contact@mboumba.ga",
                    phone: "+241 01 23 45 67",
                    lastTransfer: "2024-01-15",
                    totalTransfers: 12
                },
                {
                    id: 2,
                    name: "Marie KOUGNA",
                    type: "employee",
                    account: "GA21 XXXX XXXX XXXX XXXXXXXX 456",
                    bank: "K-Bank",
                    email: "marie.kougna@entreprise.ga",
                    phone: "+241 07 89 12 34",
                    lastTransfer: "2024-01-10",
                    totalTransfers: 24
                },
                {
                    id: 3,
                    name: "SOGEA SATOM",
                    type: "client",
                    account: "GA21 3042 0001 2345 6789 0304",
                    bank: "BGFI",
                    email: "comptabilité@sogeasatom.ga",
                    phone: "+241 01 34 56 78",
                    lastTransfer: "2024-01-05",
                    totalTransfers: 8
                }
            ],
            transactions: [
                {
                    id: 1,
                    type: "income",
                    title: "Salaire",
                    details: "Entreprise BATOLA SARL",
                    amount: 450000,
                    date: "2024-01-15"
                },
                {
                    id: 2,
                    type: "expense",
                    title: "Supermarket",
                    details: "SUPERMARCHÉ CASINO",
                    amount: 75400,
                    date: "2024-01-14"
                },
                {
                    id: 3,
                    type: "expense",
                    title: "Électricité",
                    details: "SEEG",
                    amount: 32500,
                    date: "2024-01-12"
                },
                {
                    id: 4,
                    type: "income",
                    title: "Remboursement",
                    details: "Marie KOUGNA",
                    amount: 25000,
                    date: "2024-01-10"
                }
            ],
            notifications: [
                {
                    id: 1,
                    type: "transfer",
                    title: "Virement reçu",
                    details: "Vous avez reçu Fcfa 450,000 de BATOLA SARL",
                    time: "Il y a 2 heures"
                },
                {
                    id: 2,
                    type: "payment",
                    title: "Paiement en ligne",
                    details: "Paiement de Fcfa 125,000 chez CKDO Gabon",
                    time: "Il y a 1 jour"
                },
                {
                    id: 3,
                    type: "security",
                    title: "Alerte de sécurité",
                    details: "Connexion depuis un nouvel appareil",
                    time: "Il y a 2 jours"
                },
                {
                    id: 4,
                    type: "professional",
                    title: "Compte professionnel",
                    details: "Virement de masse programmé pour demain",
                    time: "Il y a 3 jours"
                }
            ]
        };

        // Initialisation
        document.addEventListener('DOMContentLoaded', () => {
            renderPartners();
            updateUserInfo();
            initializeBackSwipeListeners(); // Initialiser les écouteurs de glissement
        });

        // Met à jour les informations utilisateur
        function updateUserInfo() {
            document.querySelector('.balance-amount').textContent = `Fcfa ${formatCurrency(appData.user.balance)}`;
            document.querySelector('.account-number').textContent = `Compte: ${appData.user.account}`;
            document.querySelector('.professional-subtitle').textContent = `Solde professionnel: Fcfa ${formatCurrency(appData.user.professionalBalance)}`;
        }

        // Affiche les partenaires
        function renderPartners() {
            const container = document.getElementById('partners-list');
            const allContainer = document.getElementById('all-partners-list');
            
            if (container) {
                container.innerHTML = appData.partners.slice(0, 5).map(partner => `
                    <div class="partner-item">
                        <div class="partner-avatar">${partner.name.split(' ').map(n => n[0]).join('')}</div>
                        <div class="partner-info">
                            <div class="partner-name">${partner.name}</div>
                            <div class="partner-details">${partner.account} • ${partner.bank}</div>
                        </div>
                        <div class="partner-actions">
                            <button class="partner-action" onclick="transferToPartner(${partner.id})">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                            <button class="partner-action" onclick="editPartner(${partner.id})">
                                <i class="fas fa-edit"></i>
                            </button>
                        </div>
                    </div>
                `).join('');
            }
            
            if (allContainer) {
                allContainer.innerHTML = appData.partners.map(partner => `
                    <div class="partner-item">
                        <div class="partner-avatar">${partner.name.split(' ').map(n => n[0]).join('')}</div>
                        <div class="partner-info">
                            <div class="partner-name">${partner.name}</div>
                            <div class="partner-details">${partner.type} • ${partner.account}</div>
                        </div>
                        <div class="partner-actions">
                            <button class="partner-action" onclick="transferToPartner(${partner.id})">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                            <button class="partner-action" onclick="editPartner(${partner.id})">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="partner-action" onclick="deletePartner(${partner.id})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `).join('');
            }
        }

        // Ouvre le modal d'ajout de partenaire
        function openAddPartnerModal() {
            document.getElementById('add-partner-modal').classList.add('active');
        }

        // Ferme le modal d'ajout de partenaire
        function closeAddPartnerModal() {
            document.getElementById('add-partner-modal').classList.remove('active');
        }

        // Ajoute un nouveau partenaire
        function addPartner() {
            const name = document.getElementById('partner-name').value;
            const type = document.getElementById('partner-type').value;
            const account = document.getElementById('partner-account').value;
            const bank = document.getElementById('partner-bank').value;
            const email = document.getElementById('partner-email').value;
            const phone = document.getElementById('partner-phone').value;
            
            if (!name || !account || !bank) {
                showToast('Veuillez remplir les champs obligatoires');
                return;
            }
            
            const newPartner = {
                id: appData.partners.length + 1,
                name,
                type,
                account,
                bank,
                email,
                phone,
                lastTransfer: new Date().toISOString().split('T')[0],
                totalTransfers: 0
            };
            
            appData.partners.push(newPartner);
            renderPartners();
            closeAddPartnerModal();
            
            // Réinitialiser le formulaire
            document.getElementById('partner-name').value = '';
            document.getElementById('partner-account').value = '';
            document.getElementById('partner-bank').value = '';
            document.getElementById('partner-email').value = '';
            document.getElementById('partner-phone').value = '';
            
            showToast('Partenaire ajouté avec succès');
        }

        // Virement vers un partenaire
        function transferToPartner(partnerId) {
            const partner = appData.partners.find(p => p.id === partnerId);
            switchTab('transfer');
            // Pré-remplir le formulaire de virement
            setTimeout(() => {
                document.getElementById('transfer-beneficiary').value = partnerId;
                document.getElementById('transfer-account').value = partner.account;
                document.getElementById('transfer-bank').value = partner.bank.toLowerCase();
                showToast(`Partenaire ${partner.name} sélectionné`);
            }, 300);
        }

        // Édition d'un partenaire
        function editPartner(partnerId) {
            const partner = appData.partners.find(p => p.id === partnerId);
            showToast(`Édition de ${partner.name} - Fonctionnalité à venir`);
            // Implémenter la logique d'édition
        }

        // Suppression d'un partenaire
        function deletePartner(partnerId) {
            if (confirm('Êtes-vous sûr de vouloir supprimer ce partenaire ?')) {
                appData.partners = appData.partners.filter(p => p.id !== partnerId);
                renderPartners();
                showToast('Partenaire supprimé avec succès');
            }
        }

        // Confirmer un virement
        function confirmTransfer() {
            const beneficiary = document.getElementById('transfer-beneficiary').value;
            const account = document.getElementById('transfer-account').value;
            const bank = document.getElementById('transfer-bank').value;
            const amount = document.getElementById('transfer-amount').value;
            
            if (!beneficiary || !account || !bank || !amount) {
                showToast('Veuillez remplir tous les champs obligatoires');
                return;
            }
            
            if (confirm(`Confirmer le virement de Fcfa ${formatCurrency(amount)} ?`)) {
                showToast('Virement effectué avec succès');
                // Réinitialiser le formulaire
                document.getElementById('transfer-beneficiary').value = '';
                document.getElementById('transfer-account').value = '';
                document.getElementById('transfer-bank').value = '';
                document.getElementById('transfer-amount').value = '';
                document.getElementById('transfer-reason').value = '';
                
                // Retourner à l'accueil après 2 secondes
                setTimeout(() => {
                    switchTab('home');
                }, 2000);
            }
        }

        // Gestion de l'upload de fichier pour virement de masse
        function handleFileUpload(input) {
            const file = input.files[0];
            if (file) {
                showToast('Fichier importé avec succès');
                // Simulation de l'importation
                simulateFileProcessing();
            }
        }

        // Simulation du traitement de fichier
        function simulateFileProcessing() {
            const recipientsList = document.getElementById('recipients-list');
            const summaryCard = document.getElementById('transfer-summary');
            const confirmButton = document.getElementById('confirm-transfer');
            
            // Simuler des données importées
            recipientsList.innerHTML = `
                <div class="recipient-item">
                    <div class="recipient-info">
                        <div class="recipient-name">SARL MBOUMBA</div>
                        <div class="recipient-account">GA21 XXXX XXXX XXXX XXXXXXXX 123</div>
                    </div>
                    <div class="recipient-amount">Fcfa 150,000</div>
                </div>
                <div class="recipient-item">
                    <div class="recipient-info">
                        <div class="recipient-name">Marie KOUGNA</div>
                        <div class="recipient-account">GA21 XXXX XXXX XXXX XXXXXXXX 456</div>
                    </div>
                    <div class="recipient-amount">Fcfa 75,000</div>
                </div>
                <div class="recipient-item">
                    <div class="recipient-info">
                        <div class="recipient-name">SOGEA SATOM</div>
                        <div class="recipient-account">GA21 3042 0001 2345 6789 0304</div>
                    </div>
                    <div class="recipient-amount">Fcfa 300,000</div>
                </div>
            `;
            
            // Mettre à jour le résumé
            document.getElementById('recipients-count').textContent = '3';
            document.getElementById('total-amount').textContent = 'Fcfa 525,000';
            document.getElementById('debit-amount').textContent = 'Fcfa 525,000';
            
            // Afficher le résumé et le bouton de confirmation
            summaryCard.style.display = 'block';
            confirmButton.style.display = 'flex';
        }

        // Télécharger le modèle Excel
        function downloadTemplate() {
            showToast('Téléchargement du modèle Excel...');
            // Ici, on générerait et téléchargerait un vrai fichier Excel
        }

        // Confirmer le virement de masse
        function confirmBulkTransfer() {
            showConfirmDialog(
                'Confirmer le virement de masse',
                'Voulez-vous exécuter 3 virements pour un total de Fcfa 525,000 ?',
                'Confirmer',
                'Annuler',
                () => {
                    showToast('Virements de masse exécutés avec succès');
                    switchTab('professional');
                }
            );
        }

        // Change de page
        function switchTab(tab) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            document.getElementById(`${tab}-page`).classList.add('active');
            document.querySelector(`.nav-item[onclick="switchTab('${tab}')"]`).classList.add('active');
            
            // Recharger les données si nécessaire
            if (tab === 'professional' || tab === 'partner-management') {
                setTimeout(() => {
                    renderPartners();
                }, 100);
            }
        }

        // Formatage des montants
        function formatCurrency(amount) {
            return new Intl.NumberFormat('fr-FR').format(amount);
        }

        // Dialog de confirmation
        function showConfirmDialog(title, message, confirmText, cancelText, onConfirm) {
            if (confirm(message)) {
                onConfirm();
            }
        }

        // Toast notification
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                if (toast.parentNode) {
                    document.body.removeChild(toast);
                }
            }, 3000);
        }

        // Variables pour le glissement de retour vers index.html
        let backSwipeTouchStartX = 0;
        let backSwipeTouchStartY = 0;
        let backSwipeIsActive = false;
        let backSwipeIndicator = null;

        // Fonction pour naviguer vers index.html
        function navigateToIndex() {
            window.location.href = 'index.html';
        }

        // Créer l'indicateur de glissement de retour
        function createBackSwipeIndicator() {
            if (!backSwipeIndicator) {
                backSwipeIndicator = document.createElement('div');
                backSwipeIndicator.className = 'swipe-indicator';
                backSwipeIndicator.innerHTML = '<i class="fas fa-arrow-right"></i> Glisser pour Accueil';
                backSwipeIndicator.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: -100px;
                    transform: translateY(-50%);
                    background: rgba(192, 192, 192, 0.9);
                    color: var(--dark-bg);
                    padding: 15px 20px;
                    border-radius: 25px;
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    font-size: 14px;
                    font-weight: 600;
                    z-index: 1000;
                    transition: left 0.3s ease;
                    box-shadow: 0 5px 20px rgba(192, 192, 192, 0.4);
                `;
                document.body.appendChild(backSwipeIndicator);
            }
        }

        // Afficher l'indicateur de retour
        function showBackSwipeIndicator() {
            createBackSwipeIndicator();
            backSwipeIndicator.style.left = '20px';
        }

        // Masquer l'indicateur de retour
        function hideBackSwipeIndicator() {
            if (backSwipeIndicator) {
                backSwipeIndicator.style.left = '-100px';
            }
        }

        // Initialise les écouteurs de glissement de retour
        function initializeBackSwipeListeners() {
            const body = document.body;
            
            // Événements tactiles
            body.addEventListener('touchstart', handleBackSwipeTouchStart, { passive: true });
            body.addEventListener('touchmove', handleBackSwipeTouchMove, { passive: false });
            body.addEventListener('touchend', handleBackSwipeTouchEnd, { passive: true });
            
            // Événements souris (pour le desktop)
            body.addEventListener('mousedown', handleBackSwipeMouseDown, false);
            body.addEventListener('mousemove', handleBackSwipeMouseMove, false);
            body.addEventListener('mouseup', handleBackSwipeMouseUp, false);
        }

        // Gestion du début du glissement (tactile)
        function handleBackSwipeTouchStart(e) {
            backSwipeTouchStartX = e.touches[0].clientX;
            backSwipeTouchStartY = e.touches[0].clientY;
            backSwipeIsActive = false;
        }

        // Gestion du début du glissement (souris)
        function handleBackSwipeMouseDown(e) {
            backSwipeTouchStartX = e.clientX;
            backSwipeTouchStartY = e.clientY;
            backSwipeIsActive = false;
        }

        // Gestion du mouvement de glissement (tactile)
        function handleBackSwipeTouchMove(e) {
            if (!backSwipeTouchStartX || !backSwipeTouchStartY) return;
            
            const touchX = e.touches[0].clientX;
            const touchY = e.touches[0].clientY;
            
            const diffX = touchX - backSwipeTouchStartX; // Inverse pour glissement vers la droite
            const diffY = backSwipeTouchStartY - touchY;
            
            // Vérifier si c'est un glissement horizontal vers la droite
            if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > 30) {
                if (diffX > 0) { // Glissement vers la droite
                    backSwipeIsActive = true;
                    e.preventDefault(); // Empêcher le scroll
                    
                    // Afficher l'indicateur après un seuil
                    if (diffX > 80) {
                        showBackSwipeIndicator();
                    }
                }
            }
        }

        // Gestion du mouvement de glissement (souris)
        function handleBackSwipeMouseMove(e) {
            if (!backSwipeTouchStartX || !backSwipeTouchStartY) return;
            
            const mouseX = e.clientX;
            const mouseY = e.clientY;
            
            const diffX = mouseX - backSwipeTouchStartX; // Inverse pour glissement vers la droite
            const diffY = backSwipeTouchStartY - mouseY;
            
            // Vérifier si c'est un glissement horizontal vers la droite
            if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > 30) {
                if (diffX > 0) { // Glissement vers la droite
                    backSwipeIsActive = true;
                    
                    // Afficher l'indicateur après un seuil
                    if (diffX > 80) {
                        showBackSwipeIndicator();
                    }
                }
            }
        }

        // Gestion de la fin du glissement (tactile)
        function handleBackSwipeTouchEnd() {
            if (backSwipeIsActive) {
                // Navigation vers index.html si l'indicateur est visible
                if (backSwipeIndicator && backSwipeIndicator.style.left === '20px') {
                    navigateToIndex();
                }
            }
            
            // Nettoyer l'indicateur
            hideBackSwipeIndicator();
            
            // Réinitialiser les variables
            backSwipeTouchStartX = 0;
            backSwipeTouchStartY = 0;
            backSwipeIsActive = false;
        }

        // Gestion de la fin du glissement (souris)
        function handleBackSwipeMouseUp() {
            if (backSwipeIsActive) {
                // Navigation vers index.html si l'indicateur est visible
                if (backSwipeIndicator && backSwipeIndicator.style.left === '20px') {
                    navigateToIndex();
                }
            }
            
            // Nettoyer l'indicateur
            hideBackSwipeIndicator();
            
            // Réinitialiser les variables
            backSwipeTouchStartX = 0;
            backSwipeTouchStartY = 0;
            backSwipeIsActive = false;
        }

        // Initialiser les écouteurs de glissement au chargement de la page

        // Variables pour la recharge
        let selectedOperator = null;
        let selectedAmount = null;

        // Sélectionner un opérateur
        function selectOperator(operator) {
            selectedOperator = operator;
            
            // Retirer la sélection des autres opérateurs
            document.querySelectorAll('.operator-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Ajouter la sélection à l'opérateur choisi
            event.target.closest('.operator-option').classList.add('selected');
        }

        // Définir un montant prédéfini
        function setRechargeAmount(amount) {
            selectedAmount = amount;
            document.getElementById('recharge-amount').value = amount;
            
            // Mettre à jour la sélection visuelle
            document.querySelectorAll('.preset-amount').forEach(preset => {
                preset.classList.remove('selected');
            });
            
            event.target.classList.add('selected');
        }

        // Confirmer la recharge
        function confirmRecharge() {
            const phone = document.getElementById('recharge-phone').value;
            const amount = document.getElementById('recharge-amount').value || selectedAmount;
            
            if (!phone) {
                showToast('Veuillez saisir un numéro de téléphone', 'error');
                return;
            }
            
            if (!selectedOperator) {
                showToast('Veuillez sélectionner un opérateur', 'error');
                return;
            }
            
            if (!amount || amount <= 0) {
                showToast('Veuillez saisir un montant valide', 'error');
                return;
            }
            
            const operatorNames = {
                'moov': 'Moov',
                'airtel': 'Airtel'
            };
            
            showConfirmDialog(
                'Confirmer la recharge',
                `Recharger ${Number(amount).toLocaleString()} Fcfa sur le ${phone} (${operatorNames[selectedOperator]}) ?`,
                'Confirmer',
                'Annuler',
                () => {
                    // Simuler le traitement
                    showToast('Recharge en cours...', 'info');
                    
                    setTimeout(() => {
                        // Déduire du solde professionnel
                        if (appData.user.professionalBalance >= amount) {
                            appData.user.professionalBalance -= Number(amount);
                            updateBalanceDisplay();
                            showToast(`Recharge de ${Number(amount).toLocaleString()} Fcfa effectuée avec succès !`, 'success');
                            
                            // Réinitialiser le formulaire
                            document.getElementById('recharge-phone').value = '';
                            document.getElementById('recharge-amount').value = '';
                            selectedOperator = null;
                            selectedAmount = null;
                            
                            document.querySelectorAll('.operator-option').forEach(option => {
                                option.classList.remove('selected');
                            });
                            
                            document.querySelectorAll('.preset-amount').forEach(preset => {
                                preset.classList.remove('selected');
                            });
                        } else {
                            showToast('Solde insuffisant dans le compte professionnel', 'error');
                        }
                    }, 2000);
                }
            );
        }

        // Gestion des onglets de factures
        function switchBillsTab(tab) {
            // Masquer tous les contenus
            document.querySelectorAll('.bills-content').forEach(content => {
                content.style.display = 'none';
            });
            
            // Retirer la classe active de tous les boutons
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // Afficher le contenu sélectionné
            document.getElementById(`bills-${tab}`).style.display = 'block';
            
            // Ajouter la classe active au bouton cliqué
            event.target.closest('.tab-button').classList.add('active');
        }

        // Voir les détails d'une facture
        function viewBillDetails(billId) {
            showToast(`Détails de la facture #${billId} - Fonctionnalité à développer`, 'info');
        }

        // Fonctions pour l'épargne
        function openSavingsDetails(productType) {
            const productNames = {
                'depot-terme': 'Dépôt à Terme',
                'plan-epargne': 'Plan Épargne Entreprise',
                'livret-pro': 'Livret Professionnel'
            };
            
            showToast(`Ouverture de ${productNames[productType]} - Fonctionnalité à développer`, 'info');
        }

        function openNewSavingsModal() {
            showToast('Nouvelle épargne - Fonctionnalité à développer', 'info');
        }

        function viewSavingsHistory() {
            showToast('Historique des épargnes - Fonctionnalité à développer', 'info');
        }

        // Fonctions pour les prêts
        function applyForLoan(type) {
            const loanTypes = {
                'equipement': 'Prêt Équipement',
                'tresorerie': 'Crédit de Trésorerie',
                'immobilier': 'Prêt Immobilier Pro'
            };
            
            showToast(`Demande de ${loanTypes[type]} - Fonctionnalité à développer`, 'info');
        }

        // Nouvelle fonction pour ouvrir la modale de demande de prêt
        function openLoanApplication(loanType) {
            const modal = document.getElementById('loan-application-modal');
            const title = document.getElementById('loan-modal-title');
            const durationSelect = document.getElementById('loan-duration-request');
            
            const loanData = {
                'equipement': {
                    title: 'Demande de Prêt Équipement',
                    rate: 8.5,
                    minDuration: 12,
                    maxDuration: 60,
                    maxAmount: 3000000
                },
                'tresorerie': {
                    title: 'Demande de Crédit de Trésorerie',
                    rate: 7.8,
                    minDuration: 6,
                    maxDuration: 24,
                    maxAmount: 2000000
                },
                'immobilier': {
                    title: 'Demande de Prêt Immobilier Pro',
                    rate: 9.2,
                    minDuration: 60,
                    maxDuration: 240,
                    maxAmount: 50000000
                }
            };
            
            const loan = loanData[loanType];
            title.textContent = loan.title;
            
            // Remplir les options de durée
            durationSelect.innerHTML = '<option value="">Sélectionner</option>';
            for (let i = loan.minDuration; i <= loan.maxDuration; i += (loanType === 'immobilier' ? 12 : 6)) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = `${i} mois`;
                durationSelect.appendChild(option);
            }
            
            // Stocker les données du prêt pour les calculs
            modal.setAttribute('data-loan-type', loanType);
            modal.setAttribute('data-rate', loan.rate);
            modal.setAttribute('data-max-amount', loan.maxAmount);
            
            // Réinitialiser le formulaire
            document.getElementById('loan-application-form').reset();
            document.getElementById('applicant-name').value = 'Godwin BATOLA';
            document.getElementById('applicant-email').value = 'godwin.batola@gmail.com';
            document.getElementById('company-name').value = 'BATOLA SARL';
            
            modal.classList.add('show');
        }

        function closeLoanApplication() {
            document.getElementById('loan-application-modal').classList.remove('show');
        }

        // Calculateur de prêt en temps réel
        function updateLoanCalculation() {
            const modal = document.getElementById('loan-application-modal');
            const amount = parseFloat(document.getElementById('loan-amount-request').value) || 0;
            const duration = parseFloat(document.getElementById('loan-duration-request').value) || 0;
            const rate = parseFloat(modal.getAttribute('data-rate')) || 0;
            const maxAmount = parseFloat(modal.getAttribute('data-max-amount')) || 0;
            
            if (amount > 0 && duration > 0) {
                // Vérifier les limites
                if (amount > maxAmount) {
                    document.getElementById('loan-amount-request').style.borderColor = 'var(--danger-color)';
                    showToast(`Montant maximum: ${maxAmount.toLocaleString('fr-FR')} Fcfa`, 'warning');
                    return;
                } else {
                    document.getElementById('loan-amount-request').style.borderColor = '';
                }
                
                const monthlyRate = rate / 100 / 12;
                const monthlyPayment = (amount * monthlyRate * Math.pow(1 + monthlyRate, duration)) / 
                                    (Math.pow(1 + monthlyRate, duration) - 1);
                const totalCost = monthlyPayment * duration;
                
                document.getElementById('estimated-payment').textContent = 
                    monthlyPayment.toLocaleString('fr-FR', { maximumFractionDigits: 0 }) + ' Fcfa';
                document.getElementById('total-cost').textContent = 
                    totalCost.toLocaleString('fr-FR', { maximumFractionDigits: 0 }) + ' Fcfa';
                document.getElementById('interest-rate').textContent = rate + '%';
            } else {
                document.getElementById('estimated-payment').textContent = '-- Fcfa';
                document.getElementById('total-cost').textContent = '-- Fcfa';
                document.getElementById('interest-rate').textContent = '-- %';
            }
        }

        // Gestionnaire de soumission du formulaire
        function handleLoanSubmission(event) {
            event.preventDefault();
            
            // Validation du formulaire
            const form = document.getElementById('loan-application-form');
            const formData = new FormData(form);
            
            // Collecter toutes les données
            const applicationData = {
                loanType: document.getElementById('loan-application-modal').getAttribute('data-loan-type'),
                personalInfo: {
                    name: document.getElementById('applicant-name').value,
                    phone: document.getElementById('applicant-phone').value,
                    email: document.getElementById('applicant-email').value,
                    company: document.getElementById('company-name').value
                },
                loanDetails: {
                    amount: document.getElementById('loan-amount-request').value,
                    duration: document.getElementById('loan-duration-request').value,
                    purpose: document.getElementById('loan-purpose').value
                },
                financialInfo: {
                    monthlyRevenue: document.getElementById('monthly-revenue').value,
                    monthlyExpenses: document.getElementById('monthly-expenses').value,
                    guarantees: Array.from(document.getElementById('guarantees').selectedOptions).map(opt => opt.value)
                },
                documents: {
                    // Les fichiers seraient traités ici
                },
                submissionDate: new Date().toISOString(),
                status: 'pending'
            };
            
            // Simulation d'envoi au service K-BANK
            submitLoanToKBank(applicationData);
        }

        function submitLoanToKBank(applicationData) {
            // Afficher un indicateur de chargement
            const submitBtn = document.querySelector('.btn-primary');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Envoi en cours...';
            submitBtn.disabled = true;
            
            // Simulation d'envoi (remplacer par un vrai appel API)
            setTimeout(() => {
                // Générer un numéro de demande
                const applicationNumber = 'KBL-' + Date.now().toString().slice(-8);
                
                // Réinitialiser le bouton
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                
                // Fermer la modale
                closeLoanApplication();
                
                // Afficher la confirmation
                showLoanConfirmation(applicationNumber, applicationData);
                
                // Mettre à jour la liste des prêts en cours
                addLoanToList(applicationNumber, applicationData);
                
            }, 2000);
        }

        function showLoanConfirmation(applicationNumber, data) {
            const message = `Votre demande de prêt a été soumise avec succès !
            
Numéro de demande: ${applicationNumber}
Montant: ${parseInt(data.loanDetails.amount).toLocaleString('fr-FR')} Fcfa
Durée: ${data.loanDetails.duration} mois

Vous recevrez une réponse sous 48-72h ouvrables.`;
            
            showToast(message, 'success', 5000);
        }

        function addLoanToList(applicationNumber, data) {
            // Ajouter la nouvelle demande à la liste des prêts en cours
            const currentLoansSection = document.querySelector('.current-loans');
            const existingCard = currentLoansSection.querySelector('.loan-status-card');
            
            const newLoanCard = document.createElement('div');
            newLoanCard.className = 'loan-status-card';
            newLoanCard.innerHTML = `
                <div class="loan-status-header">
                    <div class="status-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="status-info">
                        <div class="status-title">${getHeatLoanTypeName(data.loanType)} #${applicationNumber}</div>
                        <div class="status-details">Demande en cours d'étude</div>
                    </div>
                </div>
                <div class="loan-progress">
                    <div class="progress-steps">
                        <div class="step completed">Demande</div>
                        <div class="step active">Étude</div>
                        <div class="step">Validation</div>
                        <div class="step">Déblocage</div>
                    </div>
                </div>
            `;
            
            if (existingCard) {
                currentLoansSection.insertBefore(newLoanCard, existingCard);
            } else {
                currentLoansSection.appendChild(newLoanCard);
            }
        }

        function getHeatLoanTypeName(type) {
            const types = {
                'equipement': 'Prêt Équipement',
                'tresorerie': 'Crédit de Trésorerie',
                'immobilier': 'Prêt Immobilier Pro'
            };
            return types[type] || 'Prêt';
        }

        // Event listeners pour le calcul en temps réel
        document.addEventListener('DOMContentLoaded', function() {
            const modal = document.getElementById('loan-application-modal');
            if (modal) {
                // Calcul automatique quand les montants changent
                document.getElementById('loan-amount-request').addEventListener('input', updateLoanCalculation);
                document.getElementById('loan-duration-request').addEventListener('change', updateLoanCalculation);
                
                // Gestionnaire de soumission
                document.getElementById('loan-application-form').addEventListener('submit', handleLoanSubmission);
                
                // Fermer la modale en cliquant en dehors
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        closeLoanApplication();
                    }
                });
            }
        });

        function calculateLoan() {
            const amount = parseFloat(document.getElementById('loan-amount').value) || 0;
            const duration = parseFloat(document.getElementById('loan-duration').value) || 0;
            const rate = 0.092; // 9.2% par an
            
            if (amount > 0 && duration > 0) {
                const monthlyRate = rate / 12;
                const monthlyPayment = (amount * monthlyRate * Math.pow(1 + monthlyRate, duration)) / 
                                    (Math.pow(1 + monthlyRate, duration) - 1);
                
                const totalCost = monthlyPayment * duration;
                
                document.getElementById('monthly-payment').textContent = 
                    monthlyPayment.toLocaleString('fr-FR', { maximumFractionDigits: 0 }) + ' FCFA';
                
                // Mettre à jour le coût total si l'élément existe
                const totalCostElement = document.getElementById('total-cost');
                if (totalCostElement) {
                    totalCostElement.textContent = 
                        totalCost.toLocaleString('fr-FR', { maximumFractionDigits: 0 }) + ' FCFA';
                }
            } else {
                document.getElementById('monthly-payment').textContent = '-- FCFA';
                const totalCostElement = document.getElementById('total-cost');
                if (totalCostElement) {
                    totalCostElement.textContent = '-- FCFA';
                }
            }
        }

        // Fonctions pour les rapports
        function generateReport(type) {
            const reportTypes = {
                'monthly': 'Rapport mensuel',
                'yearly': 'Rapport annuel'
            };
            
            showToast(`Génération du ${reportTypes[type]} - Fonctionnalité à développer`, 'info');
        }

        function exportData() {
            showToast('Export des données - Fonctionnalité à développer', 'info');
        }

        // Fonctions pour la gestion des cartes
        let cardStatus = 'active'; // active, blocked, frozen

        function blockCard() {
            const modal = document.getElementById('block-confirmation-modal');
            const title = document.getElementById('block-modal-title');
            const message = document.getElementById('block-modal-message');
            const confirmBtn = modal.querySelector('.modal-button.confirm');
            
            if (cardStatus === 'blocked') {
                title.textContent = 'Débloquer la carte ?';
                message.textContent = 'Votre carte sera réactivée et vous pourrez à nouveau effectuer des transactions.';
                confirmBtn.textContent = 'Débloquer';
                confirmBtn.style.background = 'var(--success-color)';
            } else {
                title.textContent = 'Bloquer la carte ?';
                message.textContent = 'Votre carte sera temporairement bloquée. Vous ne pourrez plus effectuer de transactions jusqu\'à ce que vous la débloquez.';
                confirmBtn.textContent = 'Bloquer';
                confirmBtn.style.background = 'var(--danger-color)';
            }
            
            modal.classList.add('show');
        }

        function freezeCard() {
            const modal = document.getElementById('freeze-confirmation-modal');
            const title = document.getElementById('freeze-modal-title');
            const message = document.getElementById('freeze-modal-message');
            const confirmBtn = modal.querySelector('.modal-button.confirm');
            
            if (cardStatus === 'frozen') {
                title.textContent = 'Dégeler la carte ?';
                message.textContent = 'Votre carte sera réactivée. Toutes les restrictions seront levées.';
                confirmBtn.textContent = 'Dégeler';
                confirmBtn.style.background = 'var(--success-color)';
            } else {
                title.textContent = 'Geler la carte ?';
                message.textContent = 'Votre carte sera temporairement gelée. Toutes les transactions (en ligne et physiques) seront bloquées jusqu\'à ce que vous la dégèlez.';
                confirmBtn.textContent = 'Geler';
                confirmBtn.style.background = 'var(--accent-color)';
            }
            
            modal.classList.add('show');
        }

        function closeBlockModal() {
            document.getElementById('block-confirmation-modal').classList.remove('show');
        }

        function closeFreezeModal() {
            document.getElementById('freeze-confirmation-modal').classList.remove('show');
        }

        function confirmBlockCard() {
            if (cardStatus === 'blocked') {
                cardStatus = 'active';
                showToast('Carte débloquée avec succès', 'success');
            } else {
                cardStatus = 'blocked';
                showToast('Carte bloquée avec succès', 'warning');
            }
            updateCardVisual();
            closeBlockModal();
        }

        function confirmFreezeCard() {
            if (cardStatus === 'frozen') {
                cardStatus = 'active';
                showToast('Carte dégelée avec succès', 'success');
            } else {
                cardStatus = 'frozen';
                showToast('Carte gelée temporairement', 'info');
            }
            updateCardVisual();
            closeFreezeModal();
        }

        function updateCardVisual() {
            const card = document.querySelector('.modern-card');
            const cardActions = document.querySelectorAll('.card-action');
            
            // Supprimer toutes les classes de statut
            card.classList.remove('blocked', 'frozen');
            
            // Ajouter la classe appropriée
            if (cardStatus === 'blocked') {
                card.classList.add('blocked');
                card.style.filter = 'grayscale(100%) brightness(0.5)';
            } else if (cardStatus === 'frozen') {
                card.classList.add('frozen');
                card.style.filter = 'blur(1px) brightness(0.7)';
            } else {
                card.style.filter = 'none';
            }

            // Mettre à jour les textes des boutons
            const blockButton = cardActions[0].querySelector('span');
            const freezeButton = cardActions[2].querySelector('span');
            
            blockButton.textContent = cardStatus === 'blocked' ? 'Débloquer' : 'Bloquer';
            freezeButton.textContent = cardStatus === 'frozen' ? 'Dégeler' : 'Geler';
        }

        // Fonction pour afficher/masquer le graphique dynamique natif
        function toggleChart() {
            const chartContainer = document.getElementById('dynamic-chart-container');
            const placeholderContainer = document.querySelector('.chart-placeholder');
            const isVisible = chartContainer.style.display !== 'none';
            
            if (isVisible) {
                chartContainer.style.display = 'none';
                placeholderContainer.style.display = 'block';
            } else {
                chartContainer.style.display = 'block';
                placeholderContainer.style.display = 'none';
                
                // Initialiser le graphique natif
                setTimeout(() => {
                    initializeNativeChart();
                }, 100);
            }
        }

        // Fonction pour initialiser le graphique natif
        function initializeNativeChart() {
            console.log('Initialisation du graphique natif...');
            
            // Données des barres en FCFA
            const data = [
                { revenue: 7200000, expense: 4800000, profit: 2400000 },
                { revenue: 9000000, expense: 5700000, profit: 3300000 },
                { revenue: 7800000, expense: 5400000, profit: 2400000 },
                { revenue: 10200000, expense: 6600000, profit: 3600000 },
                { revenue: 8400000, expense: 6000000, profit: 2400000 },
                { revenue: 10800000, expense: 7200000, profit: 3600000 }
            ];
            
            // Calculer les hauteurs des barres (max 12M FCFA = 100% de hauteur)
            const maxValue = 12000000;
            const bars = document.querySelectorAll('.bar');
            
            bars.forEach((bar, index) => {
                const monthIndex = Math.floor(index / 3);
                const barType = index % 3;
                
                let value, height;
                
                switch(barType) {
                    case 0: // revenue
                        value = data[monthIndex].revenue;
                        break;
                    case 1: // expense  
                        value = data[monthIndex].expense;
                        break;
                    case 2: // profit
                        value = data[monthIndex].profit;
                        break;
                }
                
                height = (value / maxValue) * 240; // 240px est la hauteur max
                
                // Animation progressive avec délai
                setTimeout(() => {
                    bar.style.height = height + 'px';
                    bar.setAttribute('data-value', value);
                }, index * 100);
            });
            
            // Ajouter les tooltips interactifs
            addBarTooltips();
            
            console.log('Graphique natif créé avec succès !');
        }

        // Fonction pour ajouter les tooltips sur les barres
        function addBarTooltips() {
            const bars = document.querySelectorAll('.bar');
            let tooltip = null;
            
            bars.forEach((bar, index) => {
                bar.addEventListener('mouseenter', (e) => {
                    const value = parseInt(bar.getAttribute('data-value'));
                    const monthIndex = Math.floor(index / 3);
                    const barType = index % 3;
                    const months = ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin'];
                    const types = ['Revenus', 'Dépenses', 'Bénéfices'];
                    
                    // Créer le tooltip
                    tooltip = document.createElement('div');
                    tooltip.className = 'bar-tooltip';
                    
                    // Formater en FCFA avec millions
                    const formattedValue = (value / 1000000).toFixed(1) + 'M';
                    
                    tooltip.innerHTML = `
                        <strong>${months[monthIndex]}</strong><br>
                        ${types[barType]}: ${formattedValue} FCFA
                    `;
                    
                    document.body.appendChild(tooltip);
                    
                    // Positionner le tooltip
                    const rect = bar.getBoundingClientRect();
                    tooltip.style.left = (rect.left + rect.width/2 - tooltip.offsetWidth/2) + 'px';
                    tooltip.style.top = (rect.top - tooltip.offsetHeight - 10) + 'px';
                    tooltip.style.opacity = '1';
                });
                
                bar.addEventListener('mouseleave', () => {
                    if (tooltip) {
                        tooltip.remove();
                        tooltip = null;
                    }
                });
            });
        }

        // Fonction pour animer les barres de façon aléatoire (simulation de données live)
        function animateChartData() {
            const bars = document.querySelectorAll('.bar');
            const maxValue = 12000000; // 12M FCFA
            
            bars.forEach((bar, index) => {
                const currentValue = parseInt(bar.getAttribute('data-value'));
                const variation = (Math.random() - 0.5) * 1200000; // Variation de ±600k FCFA
                const newValue = Math.max(600000, Math.min(maxValue, currentValue + variation));
                const newHeight = (newValue / maxValue) * 240;
                
                bar.style.height = newHeight + 'px';
                bar.setAttribute('data-value', Math.round(newValue));
            });
            
            console.log('Données du graphique mises à jour');
        }

        // Auto-update des données toutes les 10 secondes (optionnel)
        let chartUpdateInterval = null;
        
        function startChartAutoUpdate() {
            if (!chartUpdateInterval) {
                chartUpdateInterval = setInterval(animateChartData, 10000);
                console.log('Auto-update du graphique activé');
            }
        }
        
        function stopChartAutoUpdate() {
            if (chartUpdateInterval) {
                clearInterval(chartUpdateInterval);
                chartUpdateInterval = null;
                console.log('Auto-update du graphique désactivé');
            }
        }
    </script>
    
    <!-- Styles d'amélioration responsive globale -->
    <style>
        /* Prevent horizontal overflow globally */
        html, body {
            overflow-x: hidden !important;
            width: 100% !important;
            max-width: 100% !important;
        }
        
        /* Ensure all containers respect width limits */
        .main-container, .professional-container, 
        .page, .content, .modal-content {
            max-width: 100% !important;
            overflow-x: hidden !important;
            box-sizing: border-box !important;
        }
        
        /* Text overflow prevention */
        .transaction-title, .metric-label, .forecast-title,
        .recommendation-title, .action-title, .flux-label {
            word-wrap: break-word !important;
            overflow-wrap: break-word !important;
            hyphens: auto !important;
        }
        
        /* Ultra small screens (< 280px) */
        @media screen and (max-width: 280px) {
            .modal-content-flux, .modal-content-budget {
                width: 98% !important;
                margin: 1vh auto !important;
                padding: 0 !important;
            }
            
            .flux-dashboard, .budget-dashboard {
                padding: 10px 8px !important;
            }
            
            .flux-card, .forecast-card {
                padding: 10px !important;
                margin-bottom: 8px !important;
            }
            
            .metrics-grid, .flux-summary, .forecast-summary {
                grid-template-columns: 1fr !important;
                gap: 8px !important;
            }
        }
        
        /* Small screens improvements */
        @media screen and (max-width: 360px) {
            .analytics-dashboard {
                padding: 0 8px !important;
            }
            
            .chart-container-modern,
            .flux-chart-container,
            .forecast-chart-container {
                margin-left: -8px !important;
                margin-right: -8px !important;
                border-radius: 10px !important;
            }
            
            .placeholder-features {
                max-width: 240px !important;
                gap: 6px !important;
            }
        }
    </style>
</body>
</html>